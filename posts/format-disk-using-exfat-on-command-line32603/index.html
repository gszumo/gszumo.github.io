<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Format Disk using exFat on Command Line | Gregg&#39;s MOTD</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="You may not always be working on a Linux system using a GUI, like a server or a system with very low resources. Sometimes you may need to format a disk to exFat using the Command Line. It&rsquo;s not really that difficult.
The first thing you need to do is to know which device is to be formatted so before you connect the disk or USB make sure you run the lsblk command before and after doing so. This way you will be certain not to format the wrong disk by mistake and cause a data loss.">
    <meta name="generator" content="Hugo 0.152.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    <meta name="author" content="Gregg">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/format-disk-using-exfat-on-command-line32603/">
    

    
    
    <meta property="og:url" content="http://localhost:1313/posts/format-disk-using-exfat-on-command-line32603/">
  <meta property="og:site_name" content="Gregg&#39;s MOTD">
  <meta property="og:title" content="Format Disk using exFat on Command Line">
  <meta property="og:description" content="You may not always be working on a Linux system using a GUI, like a server or a system with very low resources. Sometimes you may need to format a disk to exFat using the Command Line. It’s not really that difficult.
The first thing you need to do is to know which device is to be formatted so before you connect the disk or USB make sure you run the lsblk command before and after doing so. This way you will be certain not to format the wrong disk by mistake and cause a data loss.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-14T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-09-14T00:00:00+00:00">
    <meta property="article:tag" content="Cli">
    <meta property="article:tag" content="Exfat">
    <meta property="article:tag" content="Parted">
    <meta property="article:tag" content="Motd">

  <meta itemprop="name" content="Format Disk using exFat on Command Line">
  <meta itemprop="description" content="You may not always be working on a Linux system using a GUI, like a server or a system with very low resources. Sometimes you may need to format a disk to exFat using the Command Line. It’s not really that difficult.
The first thing you need to do is to know which device is to be formatted so before you connect the disk or USB make sure you run the lsblk command before and after doing so. This way you will be certain not to format the wrong disk by mistake and cause a data loss.">
  <meta itemprop="datePublished" content="2023-09-14T00:00:00+00:00">
  <meta itemprop="dateModified" content="2023-09-14T00:00:00+00:00">
  <meta itemprop="wordCount" content="539">
  <meta itemprop="keywords" content="Cli,Exfat,Parted,Motd">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Format Disk using exFat on Command Line">
  <meta name="twitter:description" content="You may not always be working on a Linux system using a GUI, like a server or a system with very low resources. Sometimes you may need to format a disk to exFat using the Command Line. It’s not really that difficult.
The first thing you need to do is to know which device is to be formatted so before you connect the disk or USB make sure you run the lsblk command before and after doing so. This way you will be certain not to format the wrong disk by mistake and cause a data loss.">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Gregg&#39;s MOTD
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l mw7 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Format Disk using exFat on Command Line</h1>
      
      <p class="tracked"><strong>Gregg</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2023-09-14T00:00:00Z">September 14, 2023</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-100-l"><p>You may not always be working on a Linux system using a GUI, like a server or a system with very low resources. Sometimes you may need to format a disk to exFat using the Command Line. It&rsquo;s not really that difficult.</p>
<p>The first thing you need to do is to know which device is to be formatted so before you connect the disk or USB make sure you run the <code>lsblk</code> command before and after doing so. This way you will be certain not to format the wrong disk by mistake and cause a data loss.</p>
<p>Run <code>lsblk</code> before inserting the disk:</p>
<pre tabindex="0"><code># lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda      8:0    0 232.9G  0 disk 
├─sda1   8:1    0   630M  0 part /boot/efi
├─sda2   8:2    0 216.3G  0 part /
└─sda3   8:3    0  15.9G  0 part [SWAP]
sdb      8:16   0   1.4T  0 disk 
├─sdb1   8:17   0   630M  0 part 
├─sdb2   8:18   0 244.1G  0 part /mnt/lfs
├─sdb3   8:19   0   1.1T  0 part /home
└─sdb4   8:20   0  15.6G  0 part 
sdc      8:32   1     0B  0 disk 
sr0     11:0    1  1024M  0 rom  
</code></pre><p>Then insert the disk and run <code>lsblk</code> again:</p>
<pre tabindex="0"><code># lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda      8:0    0 232.9G  0 disk 
├─sda1   8:1    0   630M  0 part /boot/efi
├─sda2   8:2    0 216.3G  0 part /
└─sda3   8:3    0  15.9G  0 part [SWAP]
sdb      8:16   0   1.4T  0 disk 
├─sdb1   8:17   0   630M  0 part 
├─sdb2   8:18   0 244.1G  0 part /mnt/lfs
├─sdb3   8:19   0   1.1T  0 part /home
└─sdb4   8:20   0  15.6G  0 part 
sdc      8:32   1     0B  0 disk 
sdd      8:48   1 979.8M  0 disk  &lt;--+
├─sdd1   8:49   1    50M  0 part  &lt;--|--New device
└─sdd2   8:50   1 928.8M  0 part  &lt;--+
sr0     11:0    1  1024M  0 rom  
</code></pre><p>Compare the output and you&rsquo;ll see that in this case, the device inserted was <code>/dev/sdd</code>.</p>
<p>Armed with that information, we can now begin our task. Start by invoking <code>parted</code> with the <code>-a optimal</code> option to specify the <em>optimal</em> alignment type:</p>
<pre tabindex="0"><code>root@slacker:~# parted -a optimal /dev/sdd
GNU Parted 3.4
Using /dev/sdd
Welcome to GNU Parted! Type &#39;help&#39; to view a list of commands.
</code></pre><p>Next, set the partition table to <em>gpt</em>:</p>
<pre tabindex="0"><code>(parted) mktable gpt                                                      
Warning: The existing disk label on /dev/sdd will be destroyed and all data on
this disk will be lost. Do you want to continue?
Yes/No? Yes
</code></pre><p>Now, create a new partition table of exFAT type:</p>
<pre tabindex="0"><code>(parted) mkpart exFAT 0% -1                                               
</code></pre><p>Set the flag for the first partition to <em>msftdata</em>:</p>
<pre tabindex="0"><code>(parted) set 1 msftdata on
(parted) align-check opt 1
1 aligned
(parted) quit                                                             
Information: You may need to update /etc/fstab.
</code></pre><p>Now you should be done. Let&rsquo;s print out the partition to make sure everything is OK:</p>
<pre tabindex="0"><code># parted /dev/sdd print
Model: SanDisk U3 Cruzer Micro (scsi)
Disk /dev/sdd: 1027MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags: 

Number  Start   End     Size    File system  Name   Flags
 1      1049kB  1027MB  1026MB  fat32        exFAT  msftdata
</code></pre><p>Now we can format it:</p>
<pre tabindex="0"><code># mkfs.exfat -n exFAT /dev/sdd1
exfatprogs version : 1.1.3
Creating exFAT filesystem(/dev/sdd1, cluster size=32768)

Writing volume boot record: done
Writing backup volume boot record: done
Fat table creation: done
Allocation bitmap creation: done
Upcase table creation: done
Writing root directory entry: done
Synchronizing...

exFAT format complete!
# 
</code></pre><ul class="pa0">
  
   <li class="list di">
     <a href="/tags/cli/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Cli</a>
   </li>
  
   <li class="list di">
     <a href="/tags/exfat/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Exfat</a>
   </li>
  
   <li class="list di">
     <a href="/tags/parted/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Parted</a>
   </li>
  
   <li class="list di">
     <a href="/tags/motd/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Motd</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  Gregg's MOTD 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
