<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Gregg's MOTD</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://www.szumowski.org/index.html">Gregg's MOTD</a></h1>
<div id="description">Tips & Tricks that I've Encountered Over the Years...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="ubuntu-disable-cloud-init-on-startup9393.html">
Ubuntu: Disable cloud-init on Startup
</a></h3>
<!-- bashblog_timestamp: #202306282003.08# -->
<div class="subtitle">June 28, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>In systems that use <code>systemd</code> and have a current (17.0+)
version of <code>cloud-init</code>, upstream documentation describes the
process for disabling <code>cloud-init</code> with either of the
following:</p>
<blockquote>
<p><code>* touch /etc/cloud/cloud-init.disabled</code><br/></p>
</blockquote>
<p>or,</p>
<blockquote>
<p><code>* add cloud-init=disabled to the kernel command line.</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_ubuntu.html'>ubuntu</a>, <a href='tag_cloud-init.html'>cloud-init</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="red-hat-subscripion-manager---registering.html">
Red Hat Subscripion Manager - Registering
</a></h3>
<!-- bashblog_timestamp: #202306271801.40# -->
<div class="subtitle">June 27, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Registering your RHEL instance with Red Hat is straightforward
assuming that you already have an account:</p>
<blockquote>
<p><code># subscription-manager register --username &lt;your-rh-user&gt; --password &lt;password&gt;</code><br/></p>
</blockquote>
<p>List the available repos or just go with a default:</p>
<blockquote>
<p><code># subscription-manager list --available</code><br/>
<code># subscription-manager attach --auto</code><br/></p>
</blockquote>
<p>Then you can do your update:</p>
<blockquote>
<p><code># yum update</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_rhel.html'>rhel</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="rhel-qcow-image-password23397.html">
RHEL QCOW Image Password
</a></h3>
<!-- bashblog_timestamp: #202306261907.09# -->
<div class="subtitle">June 26, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Did you know that although you can install RHEL from an
<code>ISO</code>, you can also download a <code>QCOW2</code> image from
Red Hat. However, when you try to start it up under
<code>virt-manager</code> you’ll see that it boots to a
<code>root</code> prompt and you don’t know what the password is. This
can be fixed by running the following from the host’s terminal:</p>
<blockquote>
<p><code># virt-customize -a &lt;qcow2-image-file-name&gt; --root-password password:&lt;password&gt;</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_rhel.html'>rhel</a>, <a href='tag_qcow.html'>qcow</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="find-system-hogs-and-child-processes30247.html">
Find System Hogs and Child Processes
</a></h3>
<!-- bashblog_timestamp: #202306251120.06# -->
<div class="subtitle">June 25, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>There are a lot of tools out there that can help you to do this that
are both GUI or command line-based but sometimes you’re on a production
server that may have limited tools and sometimes the simplest tools are
best in cases like this.</p>
<p>List the processes that are not owned by you that are using a lot of
CPU:</p>
<blockquote>
<p><code>$ ps aux --sort=-%cpu | grep -m 8 -v</code>whoami<code></code><br/></p>
</blockquote>
<p>or by memory:</p>
<blockquote>
<p><code>$ ps aux --sort=-%mem | grep -m 8 -v</code>whoami<code></code><br/></p>
</blockquote>
<p>or by longest running process:</p>
<blockquote>
<p><code>$ ps aux --sort=-time | grep -m 8 -v</code>whoami<code></code><br/></p>
</blockquote>
<p>List processes by a specific user:</p>
<blockquote>
<p><code>$ ps -U gszumo</code><br/></p>
</blockquote>
<p>or multiple users:</p>
<blockquote>
<p><code>$ ps -U gszumo -U katy</code><br/></p>
</blockquote>
<p>You can see child proceses:</p>
<blockquote>
<p><code>$ ps -eo pid,args --forest</code><br/></p>
</blockquote>
<p>or children of a specific process:</p>
<blockquote>
<p><code>$ ps -f --ppid 4775</code><br/></p>
</blockquote>
<p>I don’t remember where I found these tips but they have come in handy
on many occasions and I am documenting them here hoping that readers
(whatever few there are) will also benefit from them.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_ps.html'>ps</a>, <a href='tag_processes.html'>processes</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="how-to-list-installed-packages-in-fedora-rhel-centos.html">
How to List Installed Packages in Fedora, RHEL, CentOS
</a></h3>
<!-- bashblog_timestamp: #202306241747.43# -->
<div class="subtitle">June 24, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Listing installed packages with YUM:</p>
<blockquote>
<p><code>$ sudo yum list installed</code><br/></p>
</blockquote>
<p>To display details about a package:</p>
<blockquote>
<p><code>$ yum info nginx</code><br/></p>
</blockquote>
<p>You can cat all installed packages to a file, copy the file to
another machine and duplicate the system:</p>
<blockquote>
<p><code>$ sudo yum list installed &gt; installed-packages.txt</code><br/>
<code>$ sudo yum -y install $(cat installed-packages.txt)</code><br/></p>
</blockquote>
<p>List installed packages with RPM:</p>
<blockquote>
<p><code>$ sudo rpm -qa</code><br/></p>
</blockquote>
<p>List them by installation date:</p>
<blockquote>
<p><code>$ sudo rpm -qa --last</code><br/></p>
</blockquote>
<p>Display information about a package:</p>
<blockquote>
<p><code>$ rpm -qi nginx</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_rpm.html'>rpm</a>, <a href='tag_yum.html'>yum</a>, <a href='tag_rhel.html'>rhel</a>, <a href='tag_fedora.html'>fedora</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="git-deleting-multiple-commits24780.html">
Git: Deleting Multiple Commits
</a></h3>
<!-- bashblog_timestamp: #202306231254.32# -->
<div class="subtitle">June 23, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Let’s say that you want to delete the last 3 commits that you’ve
already pushed to the remote repository. In this example, you want
<code>566dab6</code> to be the new HEAD revision.</p>
<blockquote>
<p><code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>57bc36b (HEAD -&gt; master, origin/master, origin/HEAD) 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>You can use <code>git reset</code>, <code>git revert</code>, or
<code>git checkout</code> to achieve this goal.</p>
<p><strong>Using reset:</strong></p>
<blockquote>
<p><code>$ git reset --hard HEAD~3</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>566dab6 (HEAD -&gt; master) Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>Then you have to force push to the origin:</p>
<blockquote>
<p><code>$ git push --force</code><br/></p>
</blockquote>
<p><strong>Using revert:</strong></p>
<blockquote>
<p><code>$ git revert --no-commit 57bc36b</code><br/>
<code>$ git revert --no-commit dfb4bd3</code><br/>
<code>$ git revert --no-commit 0fd1e16</code><br/></p>
</blockquote>
<p>or do all 3 at once:</p>
<blockquote>
<p><code>$ git revert --no-commit HEAD~3..</code><br/></p>
</blockquote>
<p>Then do the commit:</p>
<blockquote>
<p><code>$ git commit -m "Fixed commits"</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>0da0f42 (HEAD -&gt; master) Fixed commits</code><br/>
<code>57bc36b 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p><strong>Using checkout:</strong></p>
<p>Checkout that revision over the top of local files</p>
<blockquote>
<p><code>$ git checkout -f 566dab6 -- .</code><br/>
<code>$ git commit -a</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>0da0f42 (HEAD -&gt; master) Fixed commits</code><br/>
<code>57bc36b 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_source-control.html'>source-control</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="solus-os-prevent-laptop-from-sleeping-when-closing-the-lid.html">
Solus OS: Prevent Laptop from Sleeping When Closing the Lid
</a></h3>
<!-- bashblog_timestamp: #202306221542.40# -->
<div class="subtitle">June 22, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>If you’re using a laptop with an external monitor and you’ve recently
installed Solus OS you might have noticed that the laptop goes to sleep
when you close the lid and there is no way to adjust for this in the
power settings. You can get around this by manually editing
<code>/etc/systemd/logind.conf</code>, then uncommenting and changing
the line:</p>
<blockquote>
<p><code>#HandleLidSwitch=suspend</code><br/></p>
</blockquote>
<p>to</p>
<blockquote>
<p><code>HandleLidSwitch=ignore</code><br/></p>
</blockquote>
<p>Note: The ‘#’ (comment) at the beginning of the line needs to be
removed and the value needs to be changed from <code>suspend</code> to
<code>ignore</code>.</p>
<p>Tags: <a href='tag_linux.html'>linux</a>, <a href='tag_solus.html'>solus</a>, <a href='tag_power.html'>power</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="speed-up-firefox24999.html">
Speed Up Firefox
</a></h3>
<!-- bashblog_timestamp: #202306211746.55# -->
<div class="subtitle">June 21, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>If you are experiencing <em>tearing</em> while using
<code>Firefox</code> you may want to see if graphics accelleration is
enabled on the browser. You can try this tip to force hardware
accelleration on in the browser.</p>
<p>First, check to make sure that your Linux desktop installation
supports it by running the following command and making sure that
<code>direct rendering</code> returns <code>Yes</code>:</p>
<blockquote>
<p><code>$ glxinfo | grep render</code><br/>
<code>direct rendering: Yes</code><br/></p>
</blockquote>
<p>Then, open Firefox if it’s not already running, and enter
<code>about:config</code> in the address bar. Click
<code>Accept The Risk And Continue</code> when prompted, to get to the
<code>Firefox Advanced Configuration Editor</code></p>
<p>Search for “<code>layers.acceleration.force-enabled</code>” and you
should then see it listed in the results.</p>
<p>Click the right and left pointing arrow icon associated with the
entry until false changes to true. Once that’s taken care of, close and
restart Firefox.</p>
<p>If you don’t see <code>layers.acceleration.force-enabled</code>
listed, you’ll need to create it by right-clicking an empty area and
selecting New | Boolean. Name the new entry
<code>layers.acceleration.force-enabled</code> and set it to true.
Restart Firefox and you’re done.</p>
<p>If you notice any issues with Firefox after that and you need to
revert your change, just search again and toggle it back to
<code>false</code>.</p>
<p>Some folks report that setting <code>gfx.xrender.enabled=true</code>
and <code>layers.acceleration.force-enabled</code> and
<code>layers.force-active</code> also works. YMMV ;^)</p>
<p>Tags: <a href='tag_firefox.html'>firefox</a>, <a href='tag_tearing.html'>tearing</a>, <a href='tag_accelleration.html'>accelleration</a>, <a href='tag_glxinfo.html'>glxinfo</a>, <a href='tag_direct-rendering.html'>direct-rendering</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<div id="all_posts"><a href="all_posts.html">View more posts</a> &mdash; <a href="all_tags.html">All tags</a> &mdash; <a href="feed.rss">Subscribe</a></div>
</div>
<div id="footer">CC by-nc-nd <a href="http://twitter.com/gszumo">Gregg Szumowski</a> &mdash; <a href="mailto:gszumo[at]gmail[dot]com">gszumo[at]gmail[dot]com</a> &mdash; <a rel="me" href="https://mastodon.sdf.org/@gszumo">Mastodon</a><br/>
NOTE: All tips provided are USE AT YOUR OWN RISK. It is suggested that you read and test each tip in a non-volitile environment before placing into production.<br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
