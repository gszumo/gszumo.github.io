<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Gregg's MOTD</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://www.szumowski.org/index.html">Gregg's MOTD</a></h1>
<div id="description">Tips & Tricks that I've Encountered Over the Years...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="git-aliases20780.html">
Git Aliases
</a></h3>
<!-- bashblog_timestamp: #202308171728.22# -->
<div class="subtitle">August 17, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Once you start developing some experience with using <em>git</em> on
the command line, you will sometimes find yourself typing some long
commands over and over again. You can create <em>aliases</em> in
<em>git</em> that are very similar to the <em>bash alias</em> shortcuts
you use in the shell.</p>
<p>Steps to do this are highlighted in chapter 2.7 of the <a
href="https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases">Git
Book</a> authored by Scott Chacon and Ben Straub and published by
Apress.</p>
<p>One of the commands that I use a lot is:</p>
<blockquote>
<p><code>$ git log --graph --decorate --pretty=oneline --abbrev-commit --all --date=local</code><br/></p>
</blockquote>
<p>which provides a nice colorized listing of the project’s activity and
looks something like this:</p>
<blockquote>
<p><code>*   2f6cc07 (HEAD -&gt; automation, origin/master, origin/HEAD, master) Updated merge for README.md</code><br/>
<code>|\</code><br/> <code>| * 84e20c2 Initial commit</code><br/>
<code>* 8dc456f Completed migration for github site.</code><br/>
<code>* bf67601 fixed head before sed</code><br/>
<code>*   89780c3 Merge pull request #124 from thalios1973/feat/pandoc-test-fix</code><br/>
<code>|\</code><br/>
<code>| * c9a297c Added additional check that will allow the use of pandoc without the --strict flag or 'hsmarkdown' hack.</code><br/>
<code>* |   025cf79 Merge pull request #125 from thalios1973/feat/body-end-file</code><br/>
<code>|\ \</code><br/> <code>| |/</code><br/> <code>|/|</code><br/>
<code>| * 272b1b6 Added ability to include custom code just before the &lt;/body&gt; tag. body_end_file global config variable added.</code><br/>
<code>|/</code><br/> <code>* 9f66ad0 README formatting</code><br/>
<code>* 500253e Support for static, not managed by bashblog html files. Close #92</code><br/>
<code>* 3c73ef6 Deleted the now defunct Twitter JSON API for share count. Fix #117</code><br/>
<code>* b5a4590 bump version to 2.8</code><br/>
<code>* 5c8e0e5 Revert changes in #116</code><br/>
<code>*   5fc037f Merge branch 'master' of github.com:cfenollosa/bashblog</code><br/>
<code>|\</code><br/>
<code>| * c6a9bef Revert tag management from #116</code><br/>
<code>| * 6222672 Better error message for $EDITOR. Close #112</code><br/>
<code>| * 36d79b5 support Markdown.pl in bashblog folder. Close #113</code><br/>
<code>| *   7154c07 Merge pull request #116 from McDutchie/master</code><br/>
<code>| |\</code><br/>
<code>| | * f50a17c tags_in_post(): bugfix for non-GNU 'sed'</code><br/>
<code>| | * 2a29b22 Fix renaming using 'bb.sh edit -n'. Suppress 'which' errmsg.</code><br/>
<code>| | *   62a26bb Merge remote-tracking branch 'upstream/master' Resolve minor editing 2.6-to-2.7 editing conflict in bb.sh</code><br/>
<code>| | |\</code><br/>
<code>| | * | 54cc0c8 More code refactoring. Limit word splitting and disable globbing by default.</code><br/>
<code>| | * |   d1a84d6 Merge remote-tracking branch 'upstream/master'</code><br/>
<code>| | |\ \</code><br/>
<code>| | * | | a674ec5 rebuild_tags(): use array for more robust file handling</code><br/>
<code>| * | | | 2157b92 Slavic language support, thanks to Tomasz Jadowski</code><br/>
<code>| | |_|/</code><br/> <code>| |/| |</code><br/></p>
</blockquote>
<p>but nicer than this website can depict (for now).</p>
<p>Rather than typing this long command every time, I just create an
alias:</p>
<blockquote>
<p><code>$ git config --global alias.lola 'log --graph --decorate --pretty=oneline --abbrev-commit --all --date=local'</code><br/></p>
</blockquote>
<p>Then all I need to type from now on is:</p>
<blockquote>
<p><code>$ git lola</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_aliases.html'>aliases</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="setting-up-git-to-ignore-elf-binaries-cc-output-on-linux.html">
Setting Up Git to Ignore ELF Binaries (C/C++ Output on Linux)
</a></h3>
<!-- bashblog_timestamp: #202308161701.04# -->
<div class="subtitle">August 16, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>The starting point for this experiment was from <a
href="https://stackoverflow.com/questions/5711120/gitignore-binary-files-that-have-no-extension">here</a></p>
<p><strong>An Example using C Program Source</strong></p>
<p>Let’s say we have a pre-existing directory of some C source code
files:</p>
<blockquote>
<p><code>$ ls</code><br/>
<code>Makefile  print  print.c  print.h  print.o</code><br/></p>
</blockquote>
<p>And we initialize a new git repository in that directory:</p>
<blockquote>
<p><code>$ git init</code><br/>
<code>Initialized empty Git repository in /home/user/tmp/printer/.git/</code><br/>
<code></code><br/> <code>$ cat .gitignore</code><br/>
<code># Ignore all</code><br/> <code>*</code><br/> <code></code><br/>
<code># Unignore all with extensions</code><br/> <code>!*.*</code><br/>
<code></code><br/> <code># Unignore all dirs</code><br/>
<code>!*/</code><br/> <code></code><br/>
<code># Unignore make files</code><br/> <code>!Makefile</code><br/>
<code></code><br/> <code># Ignore .o files</code><br/>
<code>*.o</code><br/> <code></code><br/>
<code># Ignore</code>bin<code>dir</code><br/> <code>bin/</code><br/>
<code># or</code><br/> <code>*/bin/*</code><br/></p>
</blockquote>
<p>Let’s see how we did:</p>
<blockquote>
<p><code>$ git status</code><br/> <code>On branch master</code><br/>
<code></code><br/> <code>No commits yet</code><br/> <code></code><br/>
<code>Untracked files:</code><br/>
<code>(use "git add &lt;file&gt;..." to include in what will be committed)</code><br/>
<code>.gitignore</code><br/> <code>Makefile</code><br/>
<code>print.c</code><br/> <code>print.h</code><br/> <code></code><br/>
<code>nothing added to commit but untracked files present (use "git add" to track)</code><br/></p>
</blockquote>
<p>So the <code>print</code> and the <code>print.o</code> files are not
showing up, which was our initial goal.</p>
<p>You may have to <em>tweak</em> the settings in the above
<code>.gitignore</code> file to your own situation, but as you can see
it is possible to setup <em>git</em> to ignore the ELF binaries output
by <em>gcc</em>. I would probably also add <code>a.out</code> to the
list of <em>unignored</em> files just to cover those times when you’re
not using a <code>Makefile</code>. YMMV.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_gcc.html'>gcc</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="processing-a-list-of-files-from-an-input-file7025.html">
Processing a List of Files from an Input File
</a></h3>
<!-- bashblog_timestamp: #202308142107.27# -->
<div class="subtitle">August 14, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Suppose we have a list of files stored in a text file and we want to
perform an operation on each of them within a bash script. How would we
go about doing that? Well, there are several options, here are a
few.</p>
<blockquote>
<p><code>$ cat input-files.txt</code><br/> <code>file-1.txt</code><br/>
<code>file-2.txt</code><br/> <code>file-3.txt</code><br/>
<code>file-4.txt</code><br/> <code>file-5.txt</code><br/>
<code>file-6.txt</code><br/> <code>file-7.txt</code><br/>
<code>file-8.txt</code><br/> <code>file-9.txt</code><br/></p>
</blockquote>
<p>Now, if we want to operate on each file in this list we can do
something like this:</p>
<blockquote>
<p><code>while IFS= read -r filename</code><br/> <code>do</code><br/>
<code>echo "Do something on ${filename} here..."</code><br/>
<code>done &lt; "input-files.txt"</code><br/></p>
</blockquote>
<p>or alternatively,</p>
<blockquote>
<p><code>input="input-files.txt"</code><br/>
<code>while IFS= read -r filename</code><br/> <code>do</code><br/>
<code>printf '%s\n' "${filename}"</code><br/>
<code>done &lt; "${input}"</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_shell-scripting.html'>shell-scripting</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="string-processing-with-bash16696.html">
String Processing with Bash
</a></h3>
<!-- bashblog_timestamp: #202308132101.43# -->
<div class="subtitle">August 13, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>There are various tools built into <em>bash</em> that enable you to
manipulate a variable or string which come in handy when writing shell
scripts. Here are a few notable ones:</p>
<p><strong>Find the length of a string</strong></p>
<blockquote>
<p><code>${#string}</code><br/></p>
</blockquote>
<p><strong>Get a Substring from a String</strong></p>
<blockquote>
<p><code>${string:pos} or ${string:pos:len}</code><br/></p>
</blockquote>
<p><strong>Removing Substrings from a String</strong></p>
<blockquote>
<p><code>${string#substr}</code><br/> <code>${string%substr}</code><br/>
<code>${string##substr}</code><br/>
<code>${string%%substr}</code><br/></p>
</blockquote>
<p><strong>Some examples</strong></p>
<p>Here’s a few examples of how you can process a variable that points
to an absolute path of a file and shows how to extract certain parts of
said file’s path:</p>
<blockquote>
<p><code>var=/home/user/code/blogstuff/index.html.j2</code><br/>
<code>echo ${var}         # =&gt; /home/user/code/blogstuff/index.html.j2</code><br/>
<code>echo ${var#*.}      # =&gt; html.j2</code><br/>
<code>echo ${var##*.}     # =&gt; j2</code><br/>
<code>echo ${var%/*.*}    # =&gt; /home/user/code/blogstuff</code><br/></p>
</blockquote>
<p><strong>Replace a Substring of a String</strong></p>
<blockquote>
<p><code>${string/pattern/substr}  # =&gt; Replaces the 1st match found</code><br/>
<code>${string//pattern/substr} # =&gt; Replaces all of the matches found</code><br/></p>
</blockquote>
<p><strong>Replace the Beginning or End of a String</strong></p>
<blockquote>
<p><code>${string/#pattern/substr}</code><br/>
<code>${string/%pattern/substr}</code><br/>
<code>file=${var##/*/}          # =&gt; index.html.j2</code><br/>
<code>echo ${file/#index/fubar} # =&gt; fubar.html.j2</code><br/>
<code>echo ${file/%j2/fubar}    # =&gt; index.html.fubar</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_shell-scripting.html'>shell-scripting</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="convert-a-git-repo-to-a-bare-repo.html">
Convert a Git Repo to a Bare Repo
</a></h3>
<!-- bashblog_timestamp: #202308121453.22# -->
<div class="subtitle">August 12, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>If you have a git repository that you haven’t cloned from a remote
location, i.e., one that was created locally, it is easy to convert it
to a <em>bare</em> repository. This process describes how to:</p>
<ol type="1">
<li>Take a “normal” git repository</li>
<li>Move the .git directory to another location</li>
<li>Convert it to a <em>bare</em> repository</li>
</ol>
<p>Suppose you have a git repository called <em>repo</em>. To convert it
to a <em>bare</em> repository, execute the following commands:</p>
<blockquote>
<p><code>cd repo</code><br/>
<code>mv .git ../repo.git # renaming just for clarity</code><br/>
<code>cd ..</code><br/> <code>rm -fr repo</code><br/>
<code>cd repo.git</code><br/>
<code>git config --bool core.bare true</code><br/></p>
</blockquote>
<p>Now you can clone it like a “normal” repository:</p>
<blockquote>
<p><code>$ cd ..</code><br/>
<code>$ git clone repo.git myrepo</code><br/>
<code>$ cd myrepo/</code><br/> <code>$ ls</code><br/>
<code>file-1.txt  file-2.txt  file-3.txt  file-4.txt  file-5.txt</code><br/>
<code>$ git status</code><br/> <code>On branch master</code><br/>
<code>Your branch is up to date with 'origin/master'.</code><br/>
<code></code><br/>
<code>nothing to commit, working tree clean</code><br/>
<code>$</code><br/></p>
</blockquote>
<p>Please note that repositories from a <em>remote</em> location do not
have all of their git branch contents and history stored locally, so
doing this to a repository cloned from a remote will result in a
repository that will be missing data.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="git-working-with-git-for-the-first-time.html">
Git: Working with Git for the First Time
</a></h3>
<!-- bashblog_timestamp: #202308111804.10# -->
<div class="subtitle">August 11, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Here’s the first step every user should start with after downloading
and installing git but <strong>BEFORE</strong> doing anything else: Set
up your <em>global</em> environment variables! If you don’t do this git
will abort your commit and give you an annoying message like this
one:</p>
<blockquote>
<p><code>$ git commit file.txt</code><br/>
<code>Author identity unknown</code><br/> <code></code><br/>
<code>*** Please tell me who you are.</code><br/> <code></code><br/>
<code>Run</code><br/> <code></code><br/>
<code>git config --global user.email "you@example.com"</code><br/>
<code>git config --global user.name "Your Name"</code><br/>
<code></code><br/>
<code>to set your account's default identity.</code><br/>
<code>Omit --global to set the identity only in this repository.</code><br/>
<code></code><br/>
<code>fatal: empty ident name (for &lt;user@localhost&gt;) not allowed</code><br/></p>
</blockquote>
<p>You only should have to do the <code>git config --global...</code>
commands one time. If you want to use a different user ID and email
address in each repository then don’t include the <code>--global</code>
parameter and it will only update your current repository leaving your
global setting alone. If you’re contributing to different repositories
using different email addresses or IDs then you definitely want to get
into this habit.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="git-committing-to-a-different-branch12884.html">
Git: Committing to a Different Branch
</a></h3>
<!-- bashblog_timestamp: #202308101734.40# -->
<div class="subtitle">August 10, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Let’s imaging that you’ve made some changes to files in your work
directory and then realized that you aren’t in the correct branch. Now
you want to get the changes you’ve made to the right branch but no
change the current branch. What do you do?</p>
<p>There is no <em>git</em> command to do this but you can use the
<em>git stash</em> command to fix this.</p>
<p>This involves:</p>
<ol type="1">
<li>Using the <em>git stash</em> command to temporarily store our
changes elsewhere,</li>
<li>Checkout the correct branch, and</li>
<li>“Unstash” the changes to the correct branch.</li>
</ol>
<p>Let’s say that we’ve made some changes in our repository’s
new-release branch but they should have been made in the new-feature
branch.</p>
<blockquote>
<p><code>git stash</code><br/>
<code>git checkout new-feature</code><br/>
<code>git stash pop</code><br/></p>
</blockquote>
<p>We can now perform a commit, and update this branch.</p>
<blockquote>
<p><code>git commit -a -m "Updated functions in new-feature branch."</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="printing-from-virtualbox30746.html">
Printing from Virtualbox
</a></h3>
<!-- bashblog_timestamp: #202308091742.45# -->
<div class="subtitle">August 09, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>If you want to set up your system so that you can access your Linux
host’s printer from a Windows VirtualBox client then:</p>
<p><strong>On Your Linux Host</strong></p>
<ol type="1">
<li>Install your printer driver. Get your printer working on your host
first.</li>
<li>Install <em>CUPS</em> if it is not already installed.</li>
<li>Add your printer to <em>CUPS</em> at
<code>http://localhost:631/admin</code>.</li>
<li>Set your virtual machine’s Network to <em>Bridged Adapter
(eth0)</em> in Settings and connect the cable as necessary (Advanced
menu).<br />
</li>
<li>Startup VirtualBox.<br />
</li>
<li>In a terminal, enter <code>ifconfig</code> to list your current
network settings and copy down your host’s (eth0) address or you can
optionally access this address using Network Manager.</li>
</ol>
<p><strong>On You Windows Client</strong></p>
<ol type="1">
<li>Add a new Network printer in “<em>Printers and Faxes</em>” from the
<em>Control Panel</em></li>
<li>Enter the URL address of your host’s printer, i.e.,
<code>http://192.168.0.2:631/printers/Your_printer's_name</code>. You
need the <code>:631</code> after your host’s address as this is the port
that <em>CUPS</em> listens to. The <em>Your_printer’s_name</em> is the
name of the printer you added to <em>CUPS</em>.</li>
</ol>
<p>If you can’t establish a connection then check your firewall
settings.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_virtualbox.html'>virtualbox</a>, <a href='tag_printing.html'>printing</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<div id="all_posts"><a href="all_posts.html">View more posts</a> &mdash; <a href="all_tags.html">All tags</a> &mdash; <a href="feed.rss">Subscribe</a></div>
</div>
<div id="footer">CC by-nc-nd <a href="http://twitter.com/gszumo">Gregg Szumowski</a> &mdash; <a href="mailto:gszumo[at]gmail[dot]com">gszumo[at]gmail[dot]com</a> &mdash; <a rel="me" href="https://mastodon.sdf.org/@gszumo">Mastodon</a><br/>
NOTE: All tips provided are USE AT YOUR OWN RISK. It is suggested that you read and test each tip in a non-volitile environment before placing into production.<br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
