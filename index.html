<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Gregg's MOTD</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://www.szumowski.org/index.html">Gregg's MOTD</a></h1>
<div id="description">Tips & Tricks that I've Encountered Over the Years...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="kvm-configure-libvirt-network6956.html">
KVM: Configure libvirt Network
</a></h3>
<!-- bashblog_timestamp: #202309241414.19# -->
<div class="subtitle">September 24, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>You can update the network configuration for your KVM installation
using the command line using the <code>virsh</code> command.</p>
<p>To list all of the available network enter the following command. The
<code>--all</code> will is used to include the inactive networks:</p>
<blockquote>
<p><code># virsh net-list --all</code><br/>
<code>Name                 State      Autostart</code><br/>
<code>-----------------------------------------</code><br/>
<code>default              active     yes</code><br/>
<code>NattedNetwork        active     yes</code><br/></p>
</blockquote>
<p>Then, edit the network you wish to update:</p>
<blockquote>
<p><code># EDITOR="vi" virsh net-edit NattedNetwork</code><br/></p>
</blockquote>
<p>Add host configuration(s) or whatever changes you wish to make to XML
file:</p>
<blockquote>
<p><code>&lt;network&gt;</code><br/>
<code>&lt;name&gt;NattedNetwork&lt;/name&gt;</code><br/>
<code>&lt;uuid&gt;8483028d-667b-47e7-9a8e-f269783a8246&lt;/uuid&gt;</code><br/>
<code>&lt;forward mode='nat'/&gt;</code><br/>
<code>&lt;bridge name='virbr0' stp='on' delay='0'/&gt;</code><br/>
<code>&lt;mac address='52:54:00:ad:b9:ed'/&gt;</code><br/>
<code>&lt;ip address='192.168.122.1' netmask='255.255.255.0'&gt;</code><br/>
<code>&lt;dhcp&gt;</code><br/>
<code>&lt;range start='192.168.122.2' end='192.168.122.254'/&gt;</code><br/>
<code>&lt;/dhcp&gt;</code><br/> <code>&lt;/ip&gt;</code><br/>
<code>&lt;/network&gt;</code><br/></p>
</blockquote>
<p>Once you’re done, restart the network for the changes to take
effect:</p>
<blockquote>
<p><code># virsh net-destroy  NattedNetwork</code><br/>
<code># virsh net-start NattedNetwork</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_libvirt.html'>libvirt</a>, <a href='tag_kvm.html'>kvm</a>, <a href='tag_network.html'>network</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="install-sbopkg-on-slackware2055.html">
Install sbopkg on Slackware
</a></h3>
<!-- bashblog_timestamp: #202309231559.18# -->
<div class="subtitle">September 23, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p><em>Sbopkg</em> is a command‐line and dialog‐based tool to interact
with the SlackBuilds.org repository, a collection of third‐party
SlackBuild scripts to build Slackware packages.</p>
<p>Here are the steps for installing the latest version of
<em>sbopkg</em> with Slackware.</p>
<ol type="1">
<li><p>Download the latest Slackware package from
<code>https://www.sbopkg.org/downloads.php</code> using whatever method
you find most convenient. At the time of this writing the latest version
is
<code>https://github.com/sbopkg/sbopkg/releases/download/0.38.2/sbopkg-0.38.2-noarch-1_wsr.tgz</code>.
I will use that version in the commands below. If the version has
changed, you would use the new filename in the commands. You can also
use <code>wget &lt;packagename&gt;</code> to download it
directly.</p></li>
<li><p>Open your favorite terminal and <code>su</code> to root.</p></li>
<li><p>Change to the directory where you downloaded the
package.</p></li>
<li><p>Run the command
<code>installpkg sbopkg-0.38.2-noarch-1_wsr.tgz</code></p></li>
</ol>
<p>If all goes well, <em>sbopkg</em> will now be installed.</p>
<p>To run <em>sbopkg</em>, open your favorite terminal,
<code>su -</code> to root, and type <code>sbopkg</code>.</p>
<p>As usual, see the <code>man</code> or <code>info</code> page for more
information.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_slackware.html'>slackware</a>, <a href='tag_sbopkg.html'>sbopkg</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="copying-a-directory-tree-recursively-using-tar.html">
Copying a Directory Tree Recursively Using tar
</a></h3>
<!-- bashblog_timestamp: #202309221917.28# -->
<div class="subtitle">September 22, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>You can use <code>tar</code> to copy a directory tree to another
directory in <em>one shot</em> along with preserving ownership,
permissions and timestamps. This also avoids making an intermediary
<em>tarfile</em> which may cause problems if the size of the file copy
is large and the storage resources are low. Just <code>cd</code> to the
top of the directory that you want to copy and begin.</p>
<p>Let’s assume that you want to copy the contents of the
<em>source</em> directory to a <em>target</em> directory:</p>
<blockquote>
<p><code>$ cd /path/to/source</code><br/>
<code>$ tar cf - * | (cd /target; tar xfp - )</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_tar.html'>tar</a>, <a href='tag_copying.html'>copying</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="removing-blank-spaces-from-a-group-of-file-names.html">
Removing Blank Spaces from a Group of File Names
</a></h3>
<!-- bashblog_timestamp: #202309212104.36# -->
<div class="subtitle">September 21, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>This set of commands iterate over each file in the current directory
and will replace any blank spaces in a filename with an underscore
(<code>_</code>).</p>
<p>First, we’ll create a set of sample files:</p>
<blockquote>
<p><code>$ for i in {0..9}; do touch "file-${i} (number-${i}).txt"; done</code><br/>
<code>$ ls</code><br/>
<code>file-0\ (number-0).txt  file-4\ (number-4).txt  file-8\ (number-8).txt</code><br/>
<code>file-1\ (number-1).txt  file-5\ (number-5).txt  file-9\ (number-9).txt</code><br/>
<code>file-2\ (number-2).txt  file-6\ (number-6).txt</code><br/>
<code>file-3\ (number-3).txt  file-7\ (number-7).txt</code><br/></p>
</blockquote>
<p>Now, we’ll execute the set of commands:</p>
<blockquote>
<p><code>$ for f in *\ *; do mv "$f" "${f// /_}"; done</code><br/></p>
</blockquote>
<p>And now you can see that the blanks have been replaced.</p>
<blockquote>
<p><code>$ ls</code><br/>
<code>file-0_(number-0).txt  file-4_(number-4).txt  file-8_(number-8).txt</code><br/>
<code>file-1_(number-1).txt  file-5_(number-5).txt  file-9_(number-9).txt</code><br/>
<code>file-2_(number-2).txt  file-6_(number-6).txt</code><br/>
<code>file-3_(number-3).txt  file-7_(number-7).txt</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_rename.html'>rename</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="remove-parentheses-from-file-names.html">
Remove Parentheses from File Names
</a></h3>
<!-- bashblog_timestamp: #202309201711.38# -->
<div class="subtitle">September 20, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>This script will rename Windows backup files by removing the ’
(date)’ from the filename. It will remove the parentheses and everything
between them from the file name, so that a file with the name
<code>file-1 (2023-09-10).txt</code> will be renamed to
<code>file-1.txt</code>. Note that since the data between the
parentheses will be removed, the resulting file name must be unique for
this script to prevent data from being overwritten. Other than that it
should work for any fileset that meets the beforementioned
constraints.</p>
<p>First, let’s create some sample files:</p>
<blockquote>
<p><code>$ for i in {0..9}; do touch "file-${i} (number-${i}).txt"; done</code><br/>
<code>$ ls</code><br/>
<code>file-0\ (number-0).txt  file-4\ (number-4).txt  file-8\ (number-8).txt</code><br/>
<code>file-1\ (number-1).txt  file-5\ (number-5).txt  file-9\ (number-9).txt</code><br/>
<code>file-2\ (number-2).txt  file-6\ (number-6).txt</code><br/>
<code>file-3\ (number-3).txt  file-7\ (number-7).txt</code><br/></p>
</blockquote>
<p>Now, we’ll execute the script on the sample files:</p>
<blockquote>
<p><code>$ for f in *; do n=$(echo $f | sed "s/[ (][^)]*[)]//g");mv "${f}" "${n}"; done</code><br/></p>
</blockquote>
<p>If we look at the directory listing now we see that the file names
are updated:</p>
<blockquote>
<p><code>$ ls</code><br/>
<code>file-0.txt  file-2.txt  file-4.txt  file-6.txt  file-8.txt</code><br/>
<code>file-1.txt  file-3.txt  file-5.txt  file-7.txt  file-9.txt</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_rename.html'>rename</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="swapping-the-cmd-and-control-keys-on-a-macbook-running-linux.html">
Swapping the CMD and Control Keys on a Macbook Running Linux
</a></h3>
<!-- bashblog_timestamp: #202309191642.02# -->
<div class="subtitle">September 19, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>I find it annoying not having a CTRL key available for both hands so
I tend to swap the Command and CTRL key settings on my 2012
“Slackbook”.</p>
<ol type="1">
<li>Launch a terminal</li>
<li>Edit the X11 Keyboard Extension</li>
</ol>
<blockquote>
<p><code># vim /usr/share/X11/xkb/symbols/pc</code><br/></p>
</blockquote>
<ol start="3" type="1">
<li>Make the following changes. Ensure your file looks like this:</li>
</ol>
<blockquote>
<p><code>key &lt;LCTL&gt; {    [ Super_L       ]   };</code><br/>
<code>key &lt;LWIN&gt; {    [ Control_L     ]   };</code><br/>
<code>...</code><br/>
<code>key &lt;RCTL&gt; {    [ Super_R       ]   };</code><br/>
<code>key &lt;RWIN&gt; {    [ Control_R     ]   };</code><br/></p>
</blockquote>
<ol start="4" type="1">
<li>Clear xkb’s cache</li>
</ol>
<blockquote>
<p><code># rm -rf /var/lib/xkb/*</code><br/></p>
</blockquote>
<ol start="5" type="1">
<li>If the keys are not swapped after Step 4, restart your session or
your computer.</li>
</ol>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_slackware.html'>slackware</a>, <a href='tag_xkb.html'>xkb</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="ip-address-blocks26740.html">
IP Address Blocks
</a></h3>
<!-- bashblog_timestamp: #202309181704.44# -->
<div class="subtitle">September 18, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>There are 4 classes of IPv4 networks:</p>
<p>A <em>Class A network</em> can have 16,777,214 computers on it. It
has an IP address that starts with a number in the range 0 to 126. 127
is reserved for the local loopback. (Only 127.0.0.1 is ever used
although this may change in the future).</p>
<p>A <em>Class B</em> network can have 65,534 computers on it. It has an
IP address that starts in the range of 128 to 191.</p>
<p>A <em>Class C</em> network can have 254 computers on it. This network
is often used for many home networks and most company networks. It has
an IP address that starts with a number from 192 to 223.</p>
<p><em>Class D</em> (224–239) is used for multicast and Class E
(240–254) is reserved.</p>
<p>Within the above classes are sets of private network addresses:</p>
<ul>
<li>Any address that starts with 10</li>
<li>Any address that starts 172 and where the second number is
16–31.</li>
<li>Any address that starts with 192.168</li>
</ul>
<p>Routers will generally discard any traffic to private network
addresses. So,in order to talk to other devices, your router does
something called Network Address Translation or NATtin. You can read
more about Network Address Translation and how it works <a
href="https://www.cisco.com/c/en/us/products/routers/network-address-translation.html">here</a>.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_networks.html'>networks</a>, <a href='tag_ip-address.html'>ip-address</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="vim-more-copying-tips32632.html">
Vim: More Copying Tips
</a></h3>
<!-- bashblog_timestamp: #202309171115.09# -->
<div class="subtitle">September 17, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Blocks of lines can be copied in <em>Vim</em> using <em>ranges</em>,
i.e., two numbers separated by a comma indicating the start and end of
the block of lines.</p>
<p><strong>Some Examples</strong></p>
<p>To copy line 20-25, use:</p>
<blockquote>
<p><code>:20,25yank</code><br/></p>
</blockquote>
<p>To copy five lines just above the cursor:</p>
<blockquote>
<p><code>:-4,.yank</code><br/></p>
</blockquote>
<p>where the period (.) indicates the current line.</p>
<p>To copy five lines just below the cursor:</p>
<blockquote>
<p><code>:.,+4yank</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_vim.html'>vim</a>, <a href='tag_copy.html'>copy</a>, <a href='tag_ranges.html'>ranges</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<div id="all_posts"><a href="all_posts.html">View more posts</a> &mdash; <a href="all_tags.html">All tags</a> &mdash; <a href="feed.rss">Subscribe</a></div>
</div>
<div id="footer">CC by-nc-nd <a href="http://twitter.com/gszumo">Gregg Szumowski</a> &mdash; <a href="mailto:gszumo[at]gmail[dot]com">gszumo[at]gmail[dot]com</a> &mdash; <a rel="me" href="https://mastodon.sdf.org/@gszumo">Mastodon</a><br/>
NOTE: All tips provided are USE AT YOUR OWN RISK. It is suggested that you read and test each tip in a non-volitile environment before placing into production.<br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
