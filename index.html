<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Gregg's MOTD</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://www.szumowski.org/index.html">Gregg's MOTD</a></h1>
<div id="description">Tips & Tricks that I've Encountered Over the Years...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="install-kooha-on-ubuntu-2104.html">
Install Kooha on Ubuntu 21.04
</a></h3>
<!-- bashblog_timestamp: #202306011817.47# -->
<div class="subtitle">June 01, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p><code>Kooha</code> is a GTK-based screen recorder for Linux for
recording screens and audio from your desktop or microphone. It is very
simple to use</p>
<p>Install <code>flathub</code> from the Ubuntu software repository:</p>
<pre><code>$ sudo apt install flatpak from the repository:</code></pre>
<p>Install Koohu from the command line:</p>
<pre><code>$ flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
$ flatpak install flathub io.github.seadve.Kooha</code></pre>
<p>You should now see an icon for <code>Kooha</code> in you GNOME
applications window.</p>
<p>Tags: <a href='tag_flatpak.html'>flatpak</a>, <a href='tag_kooha.html'>kooha</a>, <a href='tag_av.html'>av</a>, <a href='tag_recording.html'>recording</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="update-slackware-broadcom-driver27466.html">
Update Slackware Broadcom Driver
</a></h3>
<!-- bashblog_timestamp: #202305311820.28# -->
<div class="subtitle">May 31, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>It doesn’t happen often, but whenever there’s a new kernel package
for Slackware on my laptop I need to update the Broadcom driver. To do
this:</p>
<ol type="1">
<li>Update your OS, as usual.</li>
<li>Reboot</li>
<li>Plug in the ethernet cable, if necessary</li>
<li>Login as root</li>
<li>Perform sbopkg -i broadcom-sta</li>
<li>Done</li>
</ol>
<p>You can read more about it on the Slackware wiki <a
href="https://www.slackwiki.com/Broadcom_Wireless">here</a></p>
<p>Tags: <a href='tag_slackware.html'>slackware</a>, <a href='tag_broadcom.html'>broadcom</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="installing-foliate-ebook-reader-on-slackware-1517738.html">
Installing Foliate Ebook Reader on Slackware 15
</a></h3>
<!-- bashblog_timestamp: #202305301833.17# -->
<div class="subtitle">May 30, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>I don't know about you, but I love reading ebooks and I've used Foliate before on other distributions but can't find it for my OS of choice, Slackware. So, here's how to install it from source:</p>

<ol>
<li>Download the foliate software tarball from <a href="https://github.com/johnfactotum/foliate/releases">here</a></li>
<li>Install appstream-glib (which provides dependency appstream-util) using sboinstall</li>
<li>Install webkit2gtk (which provides dependency WebKit2) using sboinstall</li>
<li>Build foliate. Instructions are on the GitHub <a href="https://github.com/johnfactotum/foliate">page</a> or just extract the tarball, cd into the directory and then execute the following on the command line:</li>
</ol>

<p><code>$ tar zxvf foliate-2.6.4.tar.gz </code><br/>
<code>$ cd foliate-2.6.4</code><br/>
<code>$ meson build --prefix=/usr</code><br/>
<code>$ ninja -c build</code><br/>
<code>$ ninja -C build</code><br/>
<code>$ su -c "ninja -C build install"</code><br/></p>

<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_ebooks.html'>ebooks</a>, <a href='tag_slackware.html'>slackware</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="archive-only-files-in-a-directory23013.html">
Archive Only Files In a Directory
</a></h3>
<!-- bashblog_timestamp: #202305292036.09# -->
<div class="subtitle">May 29, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>If you want to create a tar archive of only the files of a directory and exclude any subdirectories you can use the <code>ls -la</code> command and pipe the output to <code>awk</code>. However you need to remove the first 8 fields from the output and leave all of the remaining parts of the line in case there are spaces in the filename. One quick and dirty way of doing that is to set each of the 8 fields to a blank and then use <code>sed</code> to trim the leading spaces. You can optionally add quotation marks around the filename in your output too.</p>

<p><code>
$ ls -al | awk '$0!~/^d/ {$1=$2=$3=$4=$5=$6=$7=$8=""; printf("%s\"\n", $0)}' | sed 's/^[[:space:]]*/"/' | xargs tar cvf archive-name.tar
</code></p>

<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_tar.html'>tar</a>, <a href='tag_awk.html'>awk</a>, <a href='tag_xargs.html'>xargs</a>, <a href='tag_sed.html'>sed</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="edit-a-remote-file-using-vim.html">
Edit a Remote File Using Vim
</a></h3>
<!-- bashblog_timestamp: #202305281554.48# -->
<div class="subtitle">May 28, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>To edit a file remotely using the vim editor, just do the following in a terminal window:</p>

<p><code>
$ scp://username@IP-address//path/to/file.txt
</code></p>

<p><br>The user must have access to the file being edited.<br></p>

<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_vim.html'>vim</a>, <a href='tag_scp.html'>scp</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="echo-file-until-a-blank-line-is-reached.html">
Echo File Until a Blank Line Is Reached
</a></h3>
<!-- bashblog_timestamp: #202305272122.53# -->
<div class="subtitle">May 27, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>You can use the <code>awk</code> program to search and print lines in a file. If you wanted to print a file until the first blank line is reached you can use the  following command to do that:</p>

<p><code>
awk '$0 ~ /^$/ {exit;} {print $0;}' somefile.txt
</code></p>

<p>Tags: <a href='tag_awk.html'>awk</a>, <a href='tag_cli.html'>cli</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="calibre-server-installation-on-a-raspberry-pi.html">
Calibre Server Installation on a Raspberry Pi
</a></h3>
<!-- bashblog_timestamp: #202305261746.50# -->
<div class="subtitle">May 26, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>These instructions are for installing the Calibre book management software on a Raspberry Pi 4 running Ubuntu 20.04 but should work with Raspian or other Debian-derived operating systems. This is just a briefer version of the same instructions that are posted <a href="https://www.digitalocean.com/community/tutorials/how-to-create-a-calibre-ebook-server-on-ubuntu-20-04">here</a>.</p>

<p>Install the calibre-bin package and its dependencies:</p>

<p><code>$ sudo apt update &amp;&amp; sudo apt install -y </code><br/>
<code>$ sudo apt install calibre-bin</code><br/></p>

<p>Create a user to run this program.</p>

<p><code>$ sudo adduser calibre</code><br/></p>

<p>Login as the 'calibre' user and create some directories:</p>

<p><code>$ mkdir calibre-library</code><br/>
<code>$ mkdir ~/books-to-add</code><br/></p>

<p>Enable user authentication:</p>

<p><code>calibre-server --manage-users</code><br/></p>

<p>Create a service for the Calibre server</p>

<p><code>[Unit]</code><br/>
<code>Description=calibre content server</code><br/>
<code>After=network.target</code><br/>
<code></code><br/>
<code>[Service]</code><br/>
<code>Type=simple</code><br/>
<code>User=calibre</code><br/>
<code>Group=calibre</code><br/>
<code>ExecStart=/usr/bin/calibre-server \</code><br/>
<code>--port=8081 --enable-local-write --enable-auth \</code><br/>
<code>/home/calibre/calibre-library</code><br/>
<code></code><br/>
<code>[Install]</code><br/>
<code>WantedBy=multi-user.target</code><br/></p>

<p>Enable the service:</p>

<p><code>$ sudo systemctl enable calibre-server</code><br/>
<code>$ sudo systemctl start calibre-server</code><br/></p>

<p>Create a cron job to run periodically add books from the books-to-add directory:</p>

<p><code><em>/5 * * * * calibredb add /home/calibre/books-to-add/ -r --with-library http://localhost:8081#calibre-library --username calibre --password <strong></em><em>*</em></strong></code><br/></p>

<p>Supplemental instructions are <a href="https://manual.calibre-ebook.com/server.html">here</a></p>

<p>Tags: <a href='tag_calibre.html'>calibre</a>, <a href='tag_raspberry-pi.html'>raspberry-pi</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="gitea-server-installation-on-a-raspberry-pi26652.html">
Gitea Server Installation on a Raspberry Pi
</a></h3>
<!-- bashblog_timestamp: #202305251802.06# -->
<div class="subtitle">May 25, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>Create a 'git' user:</p>

<p><code>
$ sudo adduser git
</code></p>

<p>Login as the 'git' user and download the gitea binary from the gitea website (choose the latest version):</p>

<p><code>wget -O gitea https://dl.gitea.io/gitea/1.14.5/gitea-1.14.5-linux-amd64</code><br/>
<code>chmod +x gitea</code><br/></p>

<p>Create a service. We're keeping it simple here so we don't need a lot of the database-specific stuff:</p>

<p><code>[Unit]</code><br/>
<code>Description=Gitea (Git with a cup of tea)</code><br/>
<code>After=syslog.target</code><br/>
<code>After=network.target</code><br/>
<code></code><br/>
<code>[Service]</code><br/>
<code># Modify these two values and uncomment them if you have</code><br/>
<code># repos with lots of files and get an HTTP error 500 because</code><br/>
<code># of that</code><br/>
<code>#LimitMEMLOCK=infinity</code><br/>
<code>#LimitNOFILE=65535</code><br/>
<code>RestartSec=2s</code><br/>
<code>Type=simple</code><br/>
<code>User=git</code><br/>
<code>Group=git</code><br/>
<code>WorkingDirectory=/home/git/</code><br/>
<code># If using Unix socket: tells systemd to create the /run/gitea folder, which will contain the gitea.sock file</code><br/>
<code># (manually creating /run/gitea doesn't work, because it would not persist across reboots)</code><br/>
<code>#RuntimeDirectory=gitea</code><br/>
<code>ExecStart=/home/git/gitea web --config /home/git/custom/conf/app.ini</code><br/>
<code>Restart=always</code><br/>
<code>Environment=USER=git HOME=/home/git GITEA<em>WORK</em>DIR=/home/git</code><br/>
<code></code><br/>
<code>[Install]</code><br/>
<code>WantedBy=multi-user.target</code><br/></p>

<p>Enable and start Gitea at boot:</p>

<p><code>sudo systemctl enable gitea</code><br/>
<code>sudo systemctl start gitea</code><br/></p>

<p>Tags: <a href='tag_git.html'>git</a>, <a href='tag_gitea.html'>gitea</a>, <a href='tag_raspberry-pi.html'>raspberry-pi</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<div id="all_posts"><a href="all_posts.html">View more posts</a> &mdash; <a href="all_tags.html">All tags</a> &mdash; <a href="feed.rss">Subscribe</a></div>
</div>
<div id="footer">CC by-nc-nd <a href="http://twitter.com/gszumo">Gregg Szumowski</a> &mdash; <a href="mailto:gszumo[at]gmail[dot]com">gszumo[at]gmail[dot]com</a> &mdash; <a rel="me" href="https://mastodon.sdf.org/@gszumo">Mastodon</a><br/>
NOTE: All tips provided are USE AT YOUR OWN RISK. It is suggested that you read and test each tip in a non-volitile environment before placing into production.<br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
