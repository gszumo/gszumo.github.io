<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>'Gregg Szumowski - macOS</title><link href="/" rel="alternate"></link><link href="/feeds/macos.atom.xml" rel="self"></link><id>/</id><updated>2019-06-20T21:34:06-05:00</updated><entry><title>"xhyve Installing and Configuration"</title><link href="/xhyve-installing-and-configuration.html" rel="alternate"></link><published>2019-06-20T21:34:06-05:00</published><updated>2019-06-20T21:34:06-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2019-06-20:/xhyve-installing-and-configuration.html</id><summary type="html">&lt;p&gt;Recently, I've been trying to improve the performance of virtualization on my 2012 MacBook Pro. I've heard about a virtualization tool called bhyve on FreeBSD and understood that it was being ported to macOS. I found this article, &lt;a href="https://dan.langille.org/2018/10/02/running-freebsd-on-osx-using-xhyve-a-port-of-bhyve/"&gt;Running FreeBSD on OSX using xhyve, a port of bhyve&lt;/a&gt; on Dan â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Recently, I've been trying to improve the performance of virtualization on my 2012 MacBook Pro. I've heard about a virtualization tool called bhyve on FreeBSD and understood that it was being ported to macOS. I found this article, &lt;a href="https://dan.langille.org/2018/10/02/running-freebsd-on-osx-using-xhyve-a-port-of-bhyve/"&gt;Running FreeBSD on OSX using xhyve, a port of bhyve&lt;/a&gt; on Dan Langille's blog and decided to have a go at installing it.&lt;/p&gt;
&lt;p&gt;At first I just figured that I would check if it could be installed via Homebrew and to my surprise I found that I had already installed it quite some time ago. So the next thing was to see if I could get it to work. I checked Homebrew to see if there were any other package available that would offer me some sort of GUI for xhyve, but unfortunately the only other package available was related to a driver for Docker. That's OK though, since I like using the command line better for these situations because you really get a better understanding of how the tool really works that way. So I commenced work.&lt;/p&gt;
&lt;p&gt;I decided to start with Langille's scripts to see if I could get FreeBSD up and running.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download the latest FreeBSD 12.0 ISO file&lt;/li&gt;
&lt;li&gt;Create an image (img file) to be used as the target drive&lt;/li&gt;
&lt;li&gt;Use Langille's first script to install the ISO to the img file&lt;/li&gt;
&lt;li&gt;Convert the installation script to a run script&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Seems simple enough. But....&lt;/p&gt;
&lt;p&gt;I downloaded the FreeBSD ISO image from freebsd.org as instructed. He used an older version but I wanted to use the latest. Who can argue with that?&lt;/p&gt;
&lt;p&gt;Step 1. &lt;a href="https://download.freebsd.org/ftp/releases/amd64/amd64/ISO-IMAGES/12.0/"&gt;Download FreeBS from here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Step 2. Create the target image:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ mkfile -nv 50g fbsd.img
fbsd.img &lt;span class="m"&gt;53687091200&lt;/span&gt; bytes
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is where you will be installing FreeBSD, so make sure that you create a image large enough for your needs. In my case I don't really need much space.&lt;/p&gt;
&lt;p&gt;Step 3. Modify Langille's script to your needs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nv"&gt;BOOTVOLUME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;FreeBSD-12.0-RELEASE-amd64-disc1.iso&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;IMG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fbsd.img&amp;quot;&lt;/span&gt;

&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;../build/Release:build:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

../build/xhyve &lt;span class="se"&gt;\&lt;/span&gt;
    -A &lt;span class="se"&gt;\&lt;/span&gt;
    -m 2G &lt;span class="se"&gt;\&lt;/span&gt;
    -c &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;0&lt;/span&gt;:0,hostbridge &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;2&lt;/span&gt;:0,virtio-net &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;3&lt;/span&gt;:0,ahci-cd,&lt;span class="nv"&gt;$BOOTVOLUME&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;4&lt;/span&gt;:0,virtio-blk,&lt;span class="nv"&gt;$IMG&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;31&lt;/span&gt;,lpc &lt;span class="se"&gt;\&lt;/span&gt;
    -l com1,stdio &lt;span class="se"&gt;\&lt;/span&gt;
    -f fbsd,../test/userboot.so,&lt;span class="nv"&gt;$BOOTVOLUME&lt;/span&gt;,&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run your installation script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo ./xhyveinstall-freebsd.sh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You should now get a boot screen:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;______               ____   _____ _____
|  ____|             |  _ \ / ____|  __ \
| |___ _ __ ___  ___ | |_) | (___ | |  | |
|  ___| &amp;#39;__/ _ \/ _ \|  _ &amp;lt; \___ \| |  | |
| |   | | |  __/  __/| |_) |____) | |__| |
| |   | | |    |    ||     |      |      |
|_|   |_|  \___|\___||____/|_____/|_____/    ```                        `
                                           s` `.....---.......--.```   -/
+============Welcome to FreeBSD===========+ +o   .--`         /y:`      +.
|                                         |  yo`:.            :o      `+-
|  1. Boot Multi User [Enter]             |   y/               -/`   -o/
|  2. Boot [S]ingle User                  |  .-                  ::/sy+:.
|  3. [Esc]ape to loader prompt           |  /                     `--  /
|  4. Reboot                              | `:                          :`
|                                         | `:                          :`
|  Options:                               |  /                          /
|  5. [K]ernel: kernel (1 of 2)           |  .-                        -.
|  6. Configure Boot [O]ptions...         |   --                      -.
|                                         |    `:`                  `:`
|                                         |      .--             `--.
|                                         |         .---.....----.
+=========================================+
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Complete the installation as you normally would for FreeBSD and return to the shell prompt. Then modify the installation script that you just ran and fix it so it becomes a run script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nv"&gt;IMG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fbsd.img&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;../build/Release:build:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

xhyve &lt;span class="se"&gt;\&lt;/span&gt;
    -A &lt;span class="se"&gt;\&lt;/span&gt;
    -m 2G &lt;span class="se"&gt;\&lt;/span&gt;
    -c &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;0&lt;/span&gt;:0,hostbridge &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;2&lt;/span&gt;:0,virtio-net &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;4&lt;/span&gt;:0,virtio-blk,&lt;span class="nv"&gt;$IMG&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    -s &lt;span class="m"&gt;31&lt;/span&gt;,lpc &lt;span class="se"&gt;\&lt;/span&gt;
    -l com1,stdio &lt;span class="se"&gt;\&lt;/span&gt;
    -f fbsd,../test/userboot.so,&lt;span class="nv"&gt;$IMG&lt;/span&gt;,&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run your run script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo ./xhyverun-freebsd.sh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Congratulations! You're running FreeBSD under xhyve!&lt;/p&gt;
&lt;p&gt;Next time: Ubuntu 18.04 under xhyve.&lt;/p&gt;</content></entry><entry><title>"Getting File Info From the MacOS Command Line"</title><link href="/getting-file-info-from-the-macos-command-line.html" rel="alternate"></link><published>2017-10-29T11:02:08-05:00</published><updated>2017-10-29T11:02:08-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2017-10-29:/getting-file-info-from-the-macos-command-line.html</id><summary type="html">&lt;p&gt;The mdls command lists file metadata. A sample below for a folder:
&lt;img alt="alt text" src="/images/mdls-training-folder.png" title="Screen shot image"&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;The mdls command lists file metadata. A sample below for a folder:
&lt;img alt="alt text" src="/images/mdls-training-folder.png" title="Screen shot image"&gt;&lt;/p&gt;</content></entry><entry><title>"Create a USB Installer for OS X El Capitan"</title><link href="/create-a-usb-installer-for-os-x-el-capitan.html" rel="alternate"></link><published>2016-05-31T11:19:58-05:00</published><updated>2016-05-31T11:19:58-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2016-05-31:/create-a-usb-installer-for-os-x-el-capitan.html</id><summary type="html">&lt;p&gt;Here's a command line method to create a USB installer for OS X El Capitan:&lt;/p&gt;
&lt;p&gt;Requirements:
A blank USB drive that is at least 8GB in size.
The El Capitan installer, which you can download for free from the Apple App Store.
Steps:
Place the USB stick in you Mac â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Here's a command line method to create a USB installer for OS X El Capitan:&lt;/p&gt;
&lt;p&gt;Requirements:
A blank USB drive that is at least 8GB in size.
The El Capitan installer, which you can download for free from the Apple App Store.
Steps:
Place the USB stick in you Mac. It will probably show up in the sidebar as "Untitled". Rename it to something more memorable by right-clicking (or 2 finger tap) on it and select "Rename..." from the dialog. In my example, I have renamed it to "ElCapitan" (without the quotes).
Open Terminal (or iTerm if you prefer that) and enter the following command changing the "/Volumes/ElCapitan" to "/Volumes/". Please note that this is a single command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo /Applications/Install&lt;span class="se"&gt;\ &lt;/span&gt;OS&lt;span class="se"&gt;\ &lt;/span&gt;X&lt;span class="se"&gt;\ &lt;/span&gt;El&lt;span class="se"&gt;\ &lt;/span&gt;Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/ElCapitan --applicationpath /Applications/Install&lt;span class="se"&gt;\ &lt;/span&gt;OS&lt;span class="se"&gt;\ &lt;/span&gt;X&lt;span class="se"&gt;\ &lt;/span&gt;El&lt;span class="se"&gt;\ &lt;/span&gt;Capitan.app --nointeraction
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Password&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;Erasing&lt;/span&gt; &lt;span class="n"&gt;Disk&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;%...&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;%...&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="o"&gt;%...&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="o"&gt;%...&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;%...&lt;/span&gt;
&lt;span class="n"&gt;Copying&lt;/span&gt; &lt;span class="n"&gt;installer&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;disk&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;Copy&lt;/span&gt; &lt;span class="n"&gt;complete&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Making&lt;/span&gt; &lt;span class="n"&gt;disk&lt;/span&gt; &lt;span class="n"&gt;bootable&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;Copying&lt;/span&gt; &lt;span class="n"&gt;boot&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;Copy&lt;/span&gt; &lt;span class="n"&gt;complete&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Done&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content></entry><entry><title>"Eject a CD/DVD on a Mac"</title><link href="/eject-a-cddvd-on-a-mac.html" rel="alternate"></link><published>2016-04-01T12:23:27-05:00</published><updated>2016-04-01T12:23:27-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2016-04-01:/eject-a-cddvd-on-a-mac.html</id><summary type="html">&lt;p&gt;To eject a CD or DVD from the command line use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cdcontrol -f /dev/cd0 eject
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;To eject a CD or DVD from the command line use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cdcontrol -f /dev/cd0 eject
&lt;/pre&gt;&lt;/div&gt;</content></entry><entry><title>"Set Mac Hostname"</title><link href="/set-mac-hostname.html" rel="alternate"></link><published>2016-04-01T12:21:54-05:00</published><updated>2016-04-01T12:21:54-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2016-04-01:/set-mac-hostname.html</id><summary type="html">&lt;p&gt;To set the host name of your Mac (in my case macbook-pro) in the command prompt, type the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo scutil --set HostName &lt;span class="s2"&gt;&amp;quot;macbook-pro&amp;quot;&lt;/span&gt;
$ sudo scutil --set LocalHostName &lt;span class="s2"&gt;&amp;quot;macbook-pro&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;To set the host name of your Mac (in my case macbook-pro) in the command prompt, type the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo scutil --set HostName &lt;span class="s2"&gt;&amp;quot;macbook-pro&amp;quot;&lt;/span&gt;
$ sudo scutil --set LocalHostName &lt;span class="s2"&gt;&amp;quot;macbook-pro&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content></entry><entry><title>"Reset Mac Launchpad"</title><link href="/reset-mac-launchpad.html" rel="alternate"></link><published>2016-04-01T12:19:44-05:00</published><updated>2016-04-01T12:19:44-05:00</updated><author><name>Gregg Szumowski</name></author><id>tag:None,2016-04-01:/reset-mac-launchpad.html</id><summary type="html">&lt;p&gt;To reset the Mac LaunchPad to default enter the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rm ~/Library/Application\ Support/Dock/*.db ; killall Dock
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will however put all of the Apple apps on the first page and all of your remaining apps will be sorted alphabetically on the remaining pages.&lt;/p&gt;</summary><content type="html">&lt;p&gt;To reset the Mac LaunchPad to default enter the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rm ~/Library/Application\ Support/Dock/*.db ; killall Dock
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will however put all of the Apple apps on the first page and all of your remaining apps will be sorted alphabetically on the remaining pages.&lt;/p&gt;</content></entry></feed>