<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel><title>Gregg's MOTD</title><link>http://www.szumowski.org/index.html</link>
<description>Tips & Tricks that I've Encountered Over the Years...</description><language>en</language>
<lastBuildDate>Sat, 23 Sep 2023 16:04:52 -0400</lastBuildDate>
<pubDate>Sat, 23 Sep 2023 16:04:52 -0400</pubDate>
<atom:link href="http://www.szumowski.org/feed.rss" rel="self" type="application/rss+xml" />
<item><title>
Install sbopkg on Slackware
</title><description><![CDATA[
<p><em>Sbopkg</em> is a command‐line and dialog‐based tool to interact
with the SlackBuilds.org repository, a collection of third‐party
SlackBuild scripts to build Slackware packages.</p>
<p>Here are the steps for installing the latest version of
<em>sbopkg</em> with Slackware.</p>
<ol type="1">
<li><p>Download the latest Slackware package from
<code>https://www.sbopkg.org/downloads.php</code> using whatever method
you find most convenient. At the time of this writing the latest version
is
<code>https://github.com/sbopkg/sbopkg/releases/download/0.38.2/sbopkg-0.38.2-noarch-1_wsr.tgz</code>.
I will use that version in the commands below. If the version has
changed, you would use the new filename in the commands. You can also
use <code>wget &lt;packagename&gt;</code> to download it
directly.</p></li>
<li><p>Open your favorite terminal and <code>su</code> to root.</p></li>
<li><p>Change to the directory where you downloaded the
package.</p></li>
<li><p>Run the command
<code>installpkg sbopkg-0.38.2-noarch-1_wsr.tgz</code></p></li>
</ol>
<p>If all goes well, <em>sbopkg</em> will now be installed.</p>
<p>To run <em>sbopkg</em>, open your favorite terminal,
<code>su -</code> to root, and type <code>sbopkg</code>.</p>
<p>As usual, see the <code>man</code> or <code>info</code> page for more
information.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_slackware.html'>slackware</a>, <a href='tag_sbopkg.html'>sbopkg</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/install-sbopkg-on-slackware2055.html</link>
<guid>http://www.szumowski.org/./install-sbopkg-on-slackware2055.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Sat, 23 Sep 2023 15:59:18 -0400</pubDate></item>
<item><title>
Copying a Directory Tree Recursively Using tar
</title><description><![CDATA[
<p>You can use <code>tar</code> to copy a directory tree to another
directory in <em>one shot</em> along with preserving ownership,
permissions and timestamps. This also avoids making an intermediary
<em>tarfile</em> which may cause problems if the size of the file copy
is large and the storage resources are low. Just <code>cd</code> to the
top of the directory that you want to copy and begin.</p>
<p>Let’s assume that you want to copy the contents of the
<em>source</em> directory to a <em>target</em> directory:</p>
<blockquote>
<p><code>$ cd /path/to/source</code><br/>
<code>$ tar cf - * | (cd /target; tar xfp - )</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_tar.html'>tar</a>, <a href='tag_copying.html'>copying</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/copying-a-directory-tree-recursively-using-tar.html</link>
<guid>http://www.szumowski.org/./copying-a-directory-tree-recursively-using-tar.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Fri, 22 Sep 2023 19:17:28 -0400</pubDate></item>
<item><title>
Removing Blank Spaces from a Group of File Names
</title><description><![CDATA[
<p>This set of commands iterate over each file in the current directory
and will replace any blank spaces in a filename with an underscore
(<code>_</code>).</p>
<p>First, we’ll create a set of sample files:</p>
<blockquote>
<p><code>$ for i in {0..9}; do touch "file-${i} (number-${i}).txt"; done</code><br/>
<code>$ ls</code><br/>
<code>file-0\ (number-0).txt  file-4\ (number-4).txt  file-8\ (number-8).txt</code><br/>
<code>file-1\ (number-1).txt  file-5\ (number-5).txt  file-9\ (number-9).txt</code><br/>
<code>file-2\ (number-2).txt  file-6\ (number-6).txt</code><br/>
<code>file-3\ (number-3).txt  file-7\ (number-7).txt</code><br/></p>
</blockquote>
<p>Now, we’ll execute the set of commands:</p>
<blockquote>
<p><code>$ for f in *\ *; do mv "$f" "${f// /_}"; done</code><br/></p>
</blockquote>
<p>And now you can see that the blanks have been replaced.</p>
<blockquote>
<p><code>$ ls</code><br/>
<code>file-0_(number-0).txt  file-4_(number-4).txt  file-8_(number-8).txt</code><br/>
<code>file-1_(number-1).txt  file-5_(number-5).txt  file-9_(number-9).txt</code><br/>
<code>file-2_(number-2).txt  file-6_(number-6).txt</code><br/>
<code>file-3_(number-3).txt  file-7_(number-7).txt</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_rename.html'>rename</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/removing-blank-spaces-from-a-group-of-file-names.html</link>
<guid>http://www.szumowski.org/./removing-blank-spaces-from-a-group-of-file-names.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Thu, 21 Sep 2023 21:04:36 -0400</pubDate></item>
<item><title>
Remove Parentheses from File Names
</title><description><![CDATA[
<p>This script will rename Windows backup files by removing the ’
(date)’ from the filename. It will remove the parentheses and everything
between them from the file name, so that a file with the name
<code>file-1 (2023-09-10).txt</code> will be renamed to
<code>file-1.txt</code>. Note that since the data between the
parentheses will be removed, the resulting file name must be unique for
this script to prevent data from being overwritten. Other than that it
should work for any fileset that meets the beforementioned
constraints.</p>
<p>First, let’s create some sample files:</p>
<blockquote>
<p><code>$ for i in {0..9}; do touch "file-${i} (number-${i}).txt"; done</code><br/>
<code>$ ls</code><br/>
<code>file-0\ (number-0).txt  file-4\ (number-4).txt  file-8\ (number-8).txt</code><br/>
<code>file-1\ (number-1).txt  file-5\ (number-5).txt  file-9\ (number-9).txt</code><br/>
<code>file-2\ (number-2).txt  file-6\ (number-6).txt</code><br/>
<code>file-3\ (number-3).txt  file-7\ (number-7).txt</code><br/></p>
</blockquote>
<p>Now, we’ll execute the script on the sample files:</p>
<blockquote>
<p><code>$ for f in *; do n=$(echo $f | sed "s/[ (][^)]*[)]//g");mv "${f}" "${n}"; done</code><br/></p>
</blockquote>
<p>If we look at the directory listing now we see that the file names
are updated:</p>
<blockquote>
<p><code>$ ls</code><br/>
<code>file-0.txt  file-2.txt  file-4.txt  file-6.txt  file-8.txt</code><br/>
<code>file-1.txt  file-3.txt  file-5.txt  file-7.txt  file-9.txt</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_rename.html'>rename</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/remove-parentheses-from-file-names.html</link>
<guid>http://www.szumowski.org/./remove-parentheses-from-file-names.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Wed, 20 Sep 2023 17:11:38 -0400</pubDate></item>
<item><title>
Swapping the CMD and Control Keys on a Macbook Running Linux
</title><description><![CDATA[
<p>I find it annoying not having a CTRL key available for both hands so
I tend to swap the Command and CTRL key settings on my 2012
“Slackbook”.</p>
<ol type="1">
<li>Launch a terminal</li>
<li>Edit the X11 Keyboard Extension</li>
</ol>
<blockquote>
<p><code># vim /usr/share/X11/xkb/symbols/pc</code><br/></p>
</blockquote>
<ol start="3" type="1">
<li>Make the following changes. Ensure your file looks like this:</li>
</ol>
<blockquote>
<p><code>key &lt;LCTL&gt; {    [ Super_L       ]   };</code><br/>
<code>key &lt;LWIN&gt; {    [ Control_L     ]   };</code><br/>
<code>...</code><br/>
<code>key &lt;RCTL&gt; {    [ Super_R       ]   };</code><br/>
<code>key &lt;RWIN&gt; {    [ Control_R     ]   };</code><br/></p>
</blockquote>
<ol start="4" type="1">
<li>Clear xkb’s cache</li>
</ol>
<blockquote>
<p><code># rm -rf /var/lib/xkb/*</code><br/></p>
</blockquote>
<ol start="5" type="1">
<li>If the keys are not swapped after Step 4, restart your session or
your computer.</li>
</ol>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_slackware.html'>slackware</a>, <a href='tag_xkb.html'>xkb</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/swapping-the-cmd-and-control-keys-on-a-macbook-running-linux.html</link>
<guid>http://www.szumowski.org/./swapping-the-cmd-and-control-keys-on-a-macbook-running-linux.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Tue, 19 Sep 2023 16:42:02 -0400</pubDate></item>
<item><title>
IP Address Blocks
</title><description><![CDATA[
<p>There are 4 classes of IPv4 networks:</p>
<p>A <em>Class A network</em> can have 16,777,214 computers on it. It
has an IP address that starts with a number in the range 0 to 126. 127
is reserved for the local loopback. (Only 127.0.0.1 is ever used
although this may change in the future).</p>
<p>A <em>Class B</em> network can have 65,534 computers on it. It has an
IP address that starts in the range of 128 to 191.</p>
<p>A <em>Class C</em> network can have 254 computers on it. This network
is often used for many home networks and most company networks. It has
an IP address that starts with a number from 192 to 223.</p>
<p><em>Class D</em> (224–239) is used for multicast and Class E
(240–254) is reserved.</p>
<p>Within the above classes are sets of private network addresses:</p>
<ul>
<li>Any address that starts with 10</li>
<li>Any address that starts 172 and where the second number is
16–31.</li>
<li>Any address that starts with 192.168</li>
</ul>
<p>Routers will generally discard any traffic to private network
addresses. So,in order to talk to other devices, your router does
something called Network Address Translation or NATtin. You can read
more about Network Address Translation and how it works <a
href="https://www.cisco.com/c/en/us/products/routers/network-address-translation.html">here</a>.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_networks.html'>networks</a>, <a href='tag_ip-address.html'>ip-address</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/ip-address-blocks26740.html</link>
<guid>http://www.szumowski.org/./ip-address-blocks26740.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Mon, 18 Sep 2023 17:04:44 -0400</pubDate></item>
<item><title>
Vim: More Copying Tips
</title><description><![CDATA[
<p>Blocks of lines can be copied in <em>Vim</em> using <em>ranges</em>,
i.e., two numbers separated by a comma indicating the start and end of
the block of lines.</p>
<p><strong>Some Examples</strong></p>
<p>To copy line 20-25, use:</p>
<blockquote>
<p><code>:20,25yank</code><br/></p>
</blockquote>
<p>To copy five lines just above the cursor:</p>
<blockquote>
<p><code>:-4,.yank</code><br/></p>
</blockquote>
<p>where the period (.) indicates the current line.</p>
<p>To copy five lines just below the cursor:</p>
<blockquote>
<p><code>:.,+4yank</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_vim.html'>vim</a>, <a href='tag_copy.html'>copy</a>, <a href='tag_ranges.html'>ranges</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/vim-more-copying-tips32632.html</link>
<guid>http://www.szumowski.org/./vim-more-copying-tips32632.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Sun, 17 Sep 2023 11:15:09 -0400</pubDate></item>
<item><title>
Log File Maintenance and Cleanup
</title><description><![CDATA[
<p>Log files sometimes take up a lot of disk space. Some applications
have internal processes that run periodically to manage them and some do
not. Often, this becomes a problems after a while as the logs consume
all of your partition space.</p>
<p>You can manage these files yourself with a simple script running in a
<em>cronjob</em> (or systemd timers if you’re so inclined) if they have
a common naming convention and you have the proper access.</p>
<p>Let’s say you have an application called <em>myapp</em> that keeps
it’s logs in a directory called <code>/opt/myapp/logs</code> and those
files all end with a <code>.log</code> file extension.</p>
<blockquote>
<p><code>cat &gt;logmanage.sh &lt;&lt;"EOF"</code><br/>
<code>#!/bin/sh</code><br/> <code>LOGDIR="/opt/myapp/logs"</code><br/>
<code># Compress all of the files older than a day</code><br/>
<code>find ${LOGDIR} -name '*.log' -mtime +0 -exec compress {} \;</code><br/>
<code># Purge all of the logs older than a week</code><br/>
<code>find ${LOGDIR} -name '*.Z' -mtime +7 -exec rm -f {} \;</code><br/>
<code>EOF</code><br/></p>
</blockquote>
<p>These two commands will compress those files that are more than older
than a day and remove the compressed files after a week.</p>
<p>Add a crontab entry to run this everyday and you’re all set.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_sysadmin.html'>sysadmin</a>, <a href='tag_logs.html'>logs</a>, <a href='tag_find.html'>find</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/log-file-maintenance-and-cleanup.html</link>
<guid>http://www.szumowski.org/./log-file-maintenance-and-cleanup.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Sat, 16 Sep 2023 19:20:08 -0400</pubDate></item>
<item><title>
Vim: How to Copy &amp; Paste
</title><description><![CDATA[
<p>Most <em>Vim</em> tutorials and cheatsheets out there will cover how
to copy and paste. Pasting is the <em>easy</em> part. Let’s talk about
copying!</p>
<p><strong>Copying</strong></p>
<p>To copy the current line (line in which the cursor is placed), simply
press double lower <code>y</code> (<code>yy</code>) or single upper case
<code>y</code> (<code>Y</code>).</p>
<p><code>yy</code> or <code>Y</code>: copies/yanks the current line,
including the newline character at the end of the line.</p>
<p>To copy a specific number of lines under the cursor (beginning from
the current location of the cursor) simply precede the command with the
number of lines that you wish to copy, i.e., <code>Nyy</code> (where N
is the number of lines).</p>
<p>You can also use the following operation to copy two lines:</p>
<blockquote>
<p><code>:.,+yank</code><br/></p>
</blockquote>
<p>where the dot (.) refers to the current line and plus sign (+) means
plus one line below the cursor.</p>
<p>So, in order to use this syntax to copy 3 lines, use <code>3yy</code>
or <code>:.,+2yank</code> will work.</p>
<p>You can also copy a specific number of lines <em>above</em> the
cursor From the current cursor location use <code>yN-1k</code>, where
<code>N-1</code> is the number of lines you want to copy. So, to copy
two lines from the current position of the cursor, press (in normal
mode, or escape mode), <code>y2-1k</code>, or <code>y1k</code>.</p>
<p>To copy 5 lines above the current cursor position:</p>
<blockquote>
<p><code>y4k</code><br/></p>
</blockquote>
<p>You can also use other operations. for example, to copy only the
fifth line just above the cursor:</p>
<p><strong>Copying &amp; Pasting</strong></p>
<blockquote>
<p><code>:-4yank</code><br/></p>
</blockquote>
<p>You can can copy lines and paste them right above the cursor in one
shot using the operation <code>:Nt-</code>, where <code>N</code> is the
line number you want to copy.</p>
<p>You can can copy specific line number and paste right below the
cursor directly using the operation <code>:Nt.</code>, where
<code>N</code> is the line number you want to copy.</p>
<p>For example, to copy line two and paste just above the current cursor
position;</p>
<blockquote>
<p><code>:2t-</code><br/></p>
</blockquote>
<p>To copy line two and paste just below the current cursor
position;</p>
<blockquote>
<p><code>:2t.</code><br/></p>
</blockquote>
<p>The above commands also work with a range of lines rather than a
single line, such as <code>:4,7t.</code> will yank lines 4-7 and paste
them below the cursor.</p>
<p><strong>Pasting</strong></p>
<p><code>p</code> or <code>P</code>: pastes one or more lines, basically
whatever is in the buffer, under or above the cursor respectively.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_vim.html'>vim</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/vim-how-to-copy-amp-paste.html</link>
<guid>http://www.szumowski.org/./vim-how-to-copy-amp-paste.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Fri, 15 Sep 2023 20:24:45 -0400</pubDate></item>
<item><title>
Format Disk using exFat on Command Line
</title><description><![CDATA[
<p>You may not always be working on a Linux system using a GUI, like a
server or a system with very low resources. Sometimes you may need to
format a disk to exFat using the Command Line. It’s not really that
difficult.</p>
<p>The first thing you need to do is to know which device is to be
formatted so before you connect the disk or USB make sure you run the
<code>lsblk</code> command before and after doing so. This way you will
be certain not to format the wrong disk by mistake and cause a data
loss.</p>
<p>Run <code>lsblk</code> before inserting the disk:</p>
<pre><code># lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda      8:0    0 232.9G  0 disk 
├─sda1   8:1    0   630M  0 part /boot/efi
├─sda2   8:2    0 216.3G  0 part /
└─sda3   8:3    0  15.9G  0 part [SWAP]
sdb      8:16   0   1.4T  0 disk 
├─sdb1   8:17   0   630M  0 part 
├─sdb2   8:18   0 244.1G  0 part /mnt/lfs
├─sdb3   8:19   0   1.1T  0 part /home
└─sdb4   8:20   0  15.6G  0 part 
sdc      8:32   1     0B  0 disk 
sr0     11:0    1  1024M  0 rom  </code></pre>
<p>Then insert the disk and run <code>lsblk</code> again:</p>
<pre><code># lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda      8:0    0 232.9G  0 disk 
├─sda1   8:1    0   630M  0 part /boot/efi
├─sda2   8:2    0 216.3G  0 part /
└─sda3   8:3    0  15.9G  0 part [SWAP]
sdb      8:16   0   1.4T  0 disk 
├─sdb1   8:17   0   630M  0 part 
├─sdb2   8:18   0 244.1G  0 part /mnt/lfs
├─sdb3   8:19   0   1.1T  0 part /home
└─sdb4   8:20   0  15.6G  0 part 
sdc      8:32   1     0B  0 disk 
sdd      8:48   1 979.8M  0 disk  &lt;--+
├─sdd1   8:49   1    50M  0 part  &lt;--|--New device
└─sdd2   8:50   1 928.8M  0 part  &lt;--+
sr0     11:0    1  1024M  0 rom  </code></pre>
<p>Compare the output and you’ll see that in this case, the device
inserted was <code>/dev/sdd</code>.</p>
<p>Armed with that information, we can now begin our task. Start by
invoking <code>parted</code> with the <code>-a optimal</code> option to
specify the <em>optimal</em> alignment type:</p>
<pre><code>root@slacker:~# parted -a optimal /dev/sdd
GNU Parted 3.4
Using /dev/sdd
Welcome to GNU Parted! Type &#39;help&#39; to view a list of commands.</code></pre>
<p>Next, set the partition table to <em>gpt</em>:</p>
<pre><code>(parted) mktable gpt                                                      
Warning: The existing disk label on /dev/sdd will be destroyed and all data on
this disk will be lost. Do you want to continue?
Yes/No? Yes</code></pre>
<p>Now, create a new partition table of exFAT type:</p>
<pre><code>(parted) mkpart exFAT 0% -1                                               </code></pre>
<p>Set the flag for the first partition to <em>msftdata</em>:</p>
<pre><code>(parted) set 1 msftdata on
(parted) align-check opt 1
1 aligned
(parted) quit                                                             
Information: You may need to update /etc/fstab.</code></pre>
<p>Now you should be done. Let’s print out the partition to make sure
everything is OK:</p>
<pre><code># parted /dev/sdd print
Model: SanDisk U3 Cruzer Micro (scsi)
Disk /dev/sdd: 1027MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags: 

Number  Start   End     Size    File system  Name   Flags
 1      1049kB  1027MB  1026MB  fat32        exFAT  msftdata</code></pre>
<p>Now we can format it:</p>
<pre><code># mkfs.exfat -n exFAT /dev/sdd1
exfatprogs version : 1.1.3
Creating exFAT filesystem(/dev/sdd1, cluster size=32768)

Writing volume boot record: done
Writing backup volume boot record: done
Fat table creation: done
Allocation bitmap creation: done
Upcase table creation: done
Writing root directory entry: done
Synchronizing...

exFAT format complete!
# </code></pre>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_exfat.html'>exfat</a>, <a href='tag_parted.html'>parted</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/format-disk-using-exfat-on-command-line32603.html</link>
<guid>http://www.szumowski.org/./format-disk-using-exfat-on-command-line32603.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Thu, 14 Sep 2023 20:37:01 -0400</pubDate></item>
</channel></rss>
