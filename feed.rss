<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel><title>Gregg's MOTD</title><link>http://www.szumowski.org/index.html</link>
<description>Tips & Tricks that I've Encountered Over the Years...</description><language>en</language>
<lastBuildDate>Thu, 27 Jul 2023 17:09:27 -0400</lastBuildDate>
<pubDate>Thu, 27 Jul 2023 17:09:27 -0400</pubDate>
<atom:link href="http://www.szumowski.org/feed.rss" rel="self" type="application/rss+xml" />
<item><title>
Using rsync to Sync Two Directories
</title><description><![CDATA[
<p>You can sync two directories using <em>rsync</em> tool. The following
command:</p>
<blockquote>
<p><code>$ rsync -a -v --delete sending_directory target_directory;</code><br/></p>
</blockquote>
<p>will copy <em>sending_directory</em> to <em>target_directory</em>
creating a directory structure of
<em>sending_directory/target_directory</em>. The <code>--delete</code>
flag will ensure that any files that were previously in
<em>sending_directory/target_directory</em> that are not in
<em>sending_directory</em> will be deleted so that the contents of the
two directories are the same.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_rsync.html'>rsync</a>, <a href='tag_backups.html'>backups</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/using-rsync-to-sync-two-directories17585.html</link>
<guid>http://www.szumowski.org/./using-rsync-to-sync-two-directories17585.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Thu, 27 Jul 2023 17:09:20 -0400</pubDate></item>
<item><title>
Move Files Older Than So Many Days with Find
</title><description><![CDATA[
<p>You may want to clean up a directory that has files older than a
certain number of days, for example, 30 days. You can do this with the
<em>find</em> command:</p>
<p>To move files older than 30 days in current folder to the
<em>old</em> folder:</p>
<blockquote>
<p><code>$ find . -mtime +30 -exec mv {} old/ \;</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_find.html'>find</a>, <a href='tag_mtime.html'>mtime</a>, <a href='tag_mv.html'>mv</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/move-files-older-than-so-many-days-with-find.html</link>
<guid>http://www.szumowski.org/./move-files-older-than-so-many-days-with-find.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Wed, 26 Jul 2023 17:08:26 -0400</pubDate></item>
<item><title>
Build, Tag, and Push a Docker Image with One Command
</title><description><![CDATA[
<p>You can build, tag, and push a docker image to a remote all in one
command with the –quiet parameter on docker build, which only outputs
the SHA256 hash (annoyingly prefixed with SHA256:, but nothing a little
cutting can’t fix).</p>
<blockquote>
<p><code>$ docker tag $(docker build . -q | cut -c 8-999) myregid/imagename:1.0.1 &amp;&amp; docker push myregid/imagename</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_docker.html'>docker</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/build-tag-and-push-a-docker-image-with-one-command.html</link>
<guid>http://www.szumowski.org/./build-tag-and-push-a-docker-image-with-one-command.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Tue, 25 Jul 2023 17:32:36 -0400</pubDate></item>
<item><title>
Vim Tips: Searching a File for Multiple Strings
</title><description><![CDATA[
<p>In Vim you can perform a search like this: /string1/;/string2</p>
<p>This will will combine two searches. It tells Vim:</p>
<ol type="1">
<li>Search for string1, then</li>
<li>From there search for string2 on any line that also contains
string1.</li>
</ol>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_vim.html'>vim</a>, <a href='tag_search.html'>search</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/vim-tips-searching-a-file-for-multiple-strings.html</link>
<guid>http://www.szumowski.org/./vim-tips-searching-a-file-for-multiple-strings.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Mon, 24 Jul 2023 20:35:18 -0400</pubDate></item>
<item><title>
Using RClone to Mount Your OneDrive Folder in Linux
</title><description><![CDATA[
<p>If you have a Microsoft Office 365 account you know that it comes
with 1TB of storage. You can use <em>RClone</em> to mount your
<em>OneDrive</em> locally on your Linux machine so that you can read and
write documents stored there.</p>
<ol type="1">
<li>Install <em>rclone</em> from whatever package repository that your
Linux operating system uses.</li>
<li>Follow the instructions <a
href="https://rclone.org/onedrive/">here</a> to configure your
<em>OneDrive</em> environment. The instructions are rather
straightforward and a couple pieces of extra advice follows:</li>
</ol>
<p>In the first section, type <code>n</code> for a <em>new</em>
installation and give your mountpoint a name:</p>
<blockquote>
<p><code>$ rclone config</code><br/>
<code>No remotes found - make a new one</code><br/>
<code>n) New remote</code><br/>
<code>s) Set configuration password</code><br/>
<code>q) Quit config</code><br/>
<code>n/s/q&gt;</code>n<code></code><br/>
<code>name&gt; remote</code><br/></p>
</blockquote>
<p>In the next section just press enter to accept the default:</p>
<blockquote>
<p><code>Type of storage to configure.</code><br/>
<code>Enter a string value. Press Enter for the default ("").</code><br/></p>
</blockquote>
<p>Now you have to choose the <em>vendor</em> of the service you’re
configuring. There are a lot of selections hereso just look for
<em>Microsoft OneDrive</em>, in my case it was <em>26</em>:</p>
<blockquote>
<p><code>Choose a number from below, or type in your own value</code><br/>
<code>1 / 1Fichier</code><br/> <code>\ "fichier"</code><br/>
<code>2 / Alias for an existing remote</code><br/>
<code>\ "alias"</code><br/> <code>etc.</code><br/>
<code>25 / Microsoft Azure Blob Storage</code><br/>
<code>\ "azureblob"</code><br/>
<code>26 / Microsoft OneDrive</code><br/> <code>\ "onedrive"</code><br/>
<code>27 / OpenDrive</code><br/> <code>\ "opendrive"</code><br/>
<code>28 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</code><br/>
<code>\ "swift"</code><br/> <code>Storage&gt; 26</code><br/></p>
</blockquote>
<p>The next couple of selections are just the default, so press the
<em>Enter</em> key:</p>
<blockquote>
<p><code>OAuth Client Id</code><br/>
<code>Leave blank normally.</code><br/>
<code>Enter a string value. Press Enter for the default ("").</code><br/>
<code>client_id&gt;</code><br/> <code>OAuth Client Secret</code><br/>
<code>Leave blank normally.</code><br/>
<code>Enter a string value. Press Enter for the default ("").</code><br/>
<code>client_secret&gt;</code><br/></p>
</blockquote>
<p>Now select the <em>global</em> choice:</p>
<blockquote>
<p><code>Choose national cloud region for OneDrive.</code><br/>
<code>Enter a string value. Press Enter for the default ("global").</code><br/>
<code>Choose a number from below, or type in your own value</code><br/>
<code>1 / Microsoft Cloud Global</code><br/>
<code>\ "global"</code><br/>
<code>2 / Microsoft Cloud for US Government</code><br/>
<code>\ "us"</code><br/> <code>3 / Microsoft Cloud Germany</code><br/>
<code>\ "de"</code><br/>
<code>4 / Azure and Office 365 operated by 21Vianet in China</code><br/>
<code>\ "cn"</code><br/> <code>region&gt; 1</code><br/></p>
</blockquote>
<p>Select the <em>default</em> here:</p>
<blockquote>
<p><code>Edit advanced config? (y/n)</code><br/>
<code>y) Yes</code><br/> <code>n) No (default)</code><br/>
<code>y/n&gt; n</code><br/></p>
</blockquote>
<p>Select the <em>default</em> here:</p>
<blockquote>
<p><code>Remote config</code><br/> <code>Use auto config?</code><br/>
<code>* Say Y if not sure</code><br/>
<code>* Say N if you are working on a remote or headless machine</code><br/>
<code>y) Yes (default)</code><br/> <code>n) No</code><br/>
<code>y/n&gt; y</code><br/></p>
</blockquote>
<p>Now the browser should open and you should provide your Microsoft
credentials:</p>
<blockquote>
<p><code>If your browser doesn't open automatically go to the following link: http://127.0.0.1:53682/auth?state=&lt;some long key here&gt;</code><br/>
<code></code><br/>
<code>Log in and authorize rclone for access</code><br/>
<code>Waiting for code...</code><br/> <code>Got code</code><br/></p>
</blockquote>
<p>Select <em>1</em> for <em>Personal or Business</em>:</p>
<blockquote>
<p><code>Choose a number from below, or type in an existing value</code><br/>
<code>1 / OneDrive Personal or Business</code><br/>
<code>\ "onedrive"</code><br/>
<code>2 / Root Sharepoint site</code><br/>
<code>\ "sharepoint"</code><br/>
<code>3 / Sharepoint site name or URL (e.g. mysite or https://contoso.sharepoint.com/sites/mysite)</code><br/>
<code>\ "url"</code><br/>
<code>4 / Search for a Sharepoint site</code><br/>
<code>\ "search"</code><br/>
<code>5 / Type in driveID (advanced)</code><br/>
<code>\ "driveid"</code><br/>
<code>6 / Type in SiteID (advanced)</code><br/>
<code>\ "siteid"</code><br/>
<code>7 / Sharepoint server-relative path (advanced, e.g. /teams/hr)</code><br/>
<code>\ "path"</code><br/> <code>Your choice&gt; 1</code><br/></p>
</blockquote>
<p>Select the drive number from the list, there will probably be only
one to choose from, and then select the default:</p>
<blockquote>
<p><code>Found 1 drives, please select the one you want to use:</code><br/>
<code>0:  (personal) id=&lt;id key&gt;</code><br/>
<code>Chose drive to use:&gt; 0</code><br/>
<code>Found drive 'root' of type 'personal', URL: https://onedrive.live.com/?cid=&lt;id key&gt;</code><br/>
<code>Is that okay?</code><br/> <code>y) Yes (default)</code><br/>
<code>n) No</code><br/> <code>y/n&gt; y</code><br/></p>
</blockquote>
<p>Now <em>rclone</em> will list out the configuration information and
ask for confirmation. If all looks good then select <em>y</em> and
you’re done:</p>
<blockquote>
<p><code>--------------------</code><br/> <code>[remote]</code><br/>
<code>type = onedrive</code><br/> <code>region = global</code><br/>
<code>token = &lt;some long token string here&gt;</code><br/>
<code></code><br/>
<code>drive_id = &lt;some long token string here&gt;</code><br/>
<code></code><br/> <code>drive_type = personal</code><br/>
<code>--------------------</code><br/>
<code>y) Yes this is OK (default)</code><br/>
<code>e) Edit this remote</code><br/>
<code>d) Delete this remote</code><br/> <code>y/e/d&gt; y</code><br/>
<code>Current remotes:</code><br/> <code></code><br/>
<code>Name                 Type</code><br/>
<code>====                 ====</code><br/>
<code>remote               onedrive</code><br/> <code></code><br/>
<code>e) Edit existing remote</code><br/>
<code>n) New remote</code><br/> <code>d) Delete remote</code><br/>
<code>r) Rename remote</code><br/> <code>c) Copy remote</code><br/>
<code>s) Set configuration password</code><br/>
<code>q) Quit config</code><br/>
<code>e/n/d/r/c/s/q&gt; q</code><br/></p>
</blockquote>
<ol start="3" type="1">
<li>Now you should be able to list the contents of the OneDrive
directory on the console:</li>
</ol>
<blockquote>
<p><code>$ rclone lsd remote:</code><br/>
<code>-1 2023-06-23 04:15:30         3 .Trash-1000</code><br/>
<code>-1 2023-07-23 15:21:03         1 Apps</code><br/>
<code>-1 2017-09-20 15:34:22         0 Attachments</code><br/>
<code>-1 2023-07-04 23:53:04         0 Desktop</code><br/>
<code>-1 2023-07-23 14:33:10       472 Documents</code><br/>
<code>-1 2023-07-22 02:43:07       135 Documents from Macbook</code><br/>
<code>-1 2019-11-08 21:22:23         0 Email attachments</code><br/>
<code>-1 2019-11-08 21:22:23         0 Movies</code><br/>
<code>-1 2023-07-23 03:39:57        53 Music</code><br/>
<code>-1 2023-07-02 16:34:04        37 Pictures</code><br/>
<code>-1 2022-05-24 10:39:02         2 Public</code><br/>
<code>-1 2021-08-01 13:47:30         2 SyncFusion</code><br/>
<code>-1 2023-06-20 11:41:24         4 Videos</code><br/></p>
</blockquote>
<p>If for some reason it isn’t mounted you can mount it manually with
the following command:</p>
<blockquote>
<p><code>$ rclone --vfs-cache-mode writes mount remote: ~/OneDrive &amp;</code><br/>
<code>[2] 69267</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_rclone.html'>rclone</a>, <a href='tag_onedrive.html'>onedrive</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
]]></description><link>http://www.szumowski.org/using-rclone-to-mount-your-onedrive-folder-in-linux4329.html</link>
<guid>http://www.szumowski.org/./using-rclone-to-mount-your-onedrive-folder-in-linux4329.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Sun, 23 Jul 2023 16:26:09 -0400</pubDate></item>
<item><title>
Find the IP Addresses of KVM Virtual Machines (Command Line)
</title><description><![CDATA[
<p>To find details about the virtual network you can use these
commands:</p>
<blockquote>
<p><code>root@slacker:~# virsh net-list</code><br/>
<code>Name      State    Autostart   Persistent</code><br/>
<code>--------------------------------------------</code><br/>
<code>default   active   yes         yes</code><br/> <code></code><br/>
<code>root@slacker:~# virsh net-info default</code><br/>
<code>Name:           default</code><br/>
<code>UUID:           14a90f27-9a85-42ca-b434-6ce6c142690c</code><br/>
<code>Active:         yes</code><br/>
<code>Persistent:     yes</code><br/>
<code>Autostart:      yes</code><br/>
<code>Bridge:         virbr0</code><br/> <code></code><br/>
<code>root@slacker:~# virsh net-dhcp-leases default</code><br/>
<code>Expiry Time           MAC address         Protocol   IP address           Hostname      Client ID or DUID</code><br/>
<code>------------------------------------------------------------------------------------------------------------</code><br/>
<code>2023-07-22 16:18:45   52:54:00:dd:7b:62   ipv4       192.168.122.216/24   centos7-bbk   -</code><br/>
<code></code><br/></p>
</blockquote>
<p>You will find the IP address and hostname listed in the last
command’s output.</p>
<p>Optionally, to find the network interfaces’s addresses for a running
domain called <em>centos7-bbk</em>:</p>
<blockquote>
<p><code>root@slacker:~# virsh list</code><br/>
<code>Id   Name          State</code><br/>
<code>-----------------------------</code><br/>
<code>3    centos7-bbk   running</code><br/> <code></code><br/>
<code>root@slacker:~# virsh domifaddr centos7-bbk</code><br/>
<code>Name       MAC address          Protocol     Address</code><br/>
<code>-------------------------------------------------------------------------------</code><br/>
<code>vnet2      52:54:00:dd:7b:62    ipv4         192.168.122.216/24</code><br/>
<code></code><br/> <code>root@slacker:~#</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_kvm.html'>kvm</a>, <a href='tag_virsh.html'>virsh</a>, <a href='tag_networking.html'>networking</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
]]></description><link>http://www.szumowski.org/how-to-find-the-ip-addresses-of-virtual-machines-from-the-command.html</link>
<guid>http://www.szumowski.org/./how-to-find-the-ip-addresses-of-virtual-machines-from-the-command.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Sat, 22 Jul 2023 15:40:26 -0400</pubDate></item>
<item><title>
SSH Escape Sequences
</title><description><![CDATA[
<p>Have you ever had an SSH connection timeout on you and you’re left
with what looks like a locked session. Repeatedly hitting the
<em>Enter</em> key does nothing. It seems that there is nothing that you
can do except close the console terminal session…or is there something
else?</p>
<p>Many people are not aware that SSH has its own set of keyboard
shortcuts. The solution to the above problem is to terminate the
connection using the first of these shortcuts.</p>
<ol type="1">
<li>Press the <em>Enter</em> key.</li>
<li>Press the <em>tilde</em> followed by a <em>period</em>.</li>
<li>Press <em>Enter</em> again. You should now be back at your command
prompt.</li>
</ol>
<p>Supported escape sequences:<br/> <code>~.</code> - terminate
connection (and any multiplexed sessions)<br/> <code>~B</code> - send a
BREAK to the remote system<br/> <code>~R</code> - request rekey<br/>
<code>~V/v</code> - decrease/increase verbosity (LogLevel)<br/>
<code>~^Z</code> - suspend ssh<br/> <code>~#</code> - list forwarded
connections<br/> <code>~&amp;</code> - background ssh (when waiting for
connections to terminate)<br/> <code>~?</code> - this message<br/>
<code>~~</code> - send the escape character by typing it twice<br/>
(Note that escapes are only recognized immediately after newline.)</p>
<p>It is important to note that you always press the <em>Enter</em> key
before typing the key sequences above.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_ssh.html'>ssh</a>, <a href='tag_shortcuts.html'>shortcuts</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
]]></description><link>http://www.szumowski.org/ssh-escape-sequences24826.html</link>
<guid>http://www.szumowski.org/./ssh-escape-sequences24826.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Fri, 21 Jul 2023 17:05:54 -0400</pubDate></item>
<item><title>
View lshw Output as a HTML Page
</title><description><![CDATA[
<p>You can use the <em>lshw</em> command to output your hardware
configuration to an <em>html</em> file by passing the <em>-html</em>
parameter to it:</p>
<blockquote>
<p><code>$ sudo lshw -html &gt;hardware.html</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_lshw.html'>lshw</a>, <a href='tag_html.html'>html</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
]]></description><link>http://www.szumowski.org/view-lshw-output-as-a-html-page.html</link>
<guid>http://www.szumowski.org/./view-lshw-output-as-a-html-page.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Thu, 20 Jul 2023 17:46:57 -0400</pubDate></item>
<item><title>
List TCP Connections Sorted By Host and Most Connections
</title><description><![CDATA[
<p>Assuming your system still has <em>netstat</em> installed (Slackware
15.0 does :^), you can summarize the TCP connections on you host using
the following command:</p>
<blockquote>
<p><code>$ netstat -ntu|awk '{print $5}'|cut -d: -f1 -s|sort|uniq -c|sort -nk1 -r</code><br/>
<code></code><br/> <code>3 52.50.230.xxx</code><br/>
<code>3 104.18.27.xxx</code><br/> <code>3 104.18.26.xxx</code><br/>
<code>2 205.166.94.xx</code><br/> <code>2 192.168.1.xx</code><br/>
<code>2 142.251.40.xxx</code><br/> <code>2 104.18.13.xx</code><br/>
<code>1 74.120.9.xxx</code><br/> <code>1 66.255.245.xxx</code><br/>
<code>1 54.154.65.xxx</code><br/> <code>1 52.96.182.xxx</code><br/>
<code>1 45.56.116.xxx</code><br/> <code>1 45.33.73.xxx</code><br/>
<code>1 34.117.65.xx</code><br/> <code>1 20.190.135.xx</code><br/>
<code>1 192.168.122.xxx</code><br/> <code>1 192.168.1.xx</code><br/>
<code>1 172.253.63.xxx</code><br/> <code>1 162.159.61.x</code><br/>
<code>1 162.125.21.x</code><br/> <code>1 142.251.40.xxx</code><br/>
<code>1 142.251.32.xxx</code><br/> <code>1 142.251.16.xxx</code><br/>
<code>1 127.0.0.x</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_networking.html'>networking</a>, <a href='tag_netstat.html'>netstat</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
]]></description><link>http://www.szumowski.org/list-tcp-connections-sorted-by-host-and-most-connections.html</link>
<guid>http://www.szumowski.org/./list-tcp-connections-sorted-by-host-and-most-connections.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Wed, 19 Jul 2023 19:02:37 -0400</pubDate></item>
<item><title>
Test If a Port is Open with Bash
</title><description><![CDATA[
<p>If netcat isn’t available on your machine and you don’t have the
priviledge to install it you can use this trick to test if a port is
open or not. It will throw a connection refused message if a port is
closed.</p>
<blockquote>
<p><code>$ : &lt;/dev/tcp/127.0.0.1/80</code><br/></p>
</blockquote>
<p>And you can use it in a script like this:</p>
<blockquote>
<p><code>(: &lt;/dev/tcp/127.0.0.1/80) &amp;&gt;/dev/null &amp;&amp; echo "OPEN" || echo "CLOSED"</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_networking.html'>networking</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
]]></description><link>http://www.szumowski.org/test-if-a-port-is-open-with-bash.html</link>
<guid>http://www.szumowski.org/./test-if-a-port-is-open-with-bash.html</guid>
<dc:creator>Gregg Szumowski</dc:creator>
<pubDate>Tue, 18 Jul 2023 18:20:32 -0400</pubDate></item>
</channel></rss>
