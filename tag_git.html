<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to this page..." href="feed.rss" />
<title>Gregg's MOTD &mdash; Posts tagged "git"</title>
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://www.szumowski.org/index.html">Gregg's MOTD</a></h1>
<div id="description">Tips & Tricks that I've Encountered Over the Years...</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="git-working-with-git-for-the-first-time.html">
Git: Working with Git for the First Time
</a></h3>
<!-- bashblog_timestamp: #202308111804.10# -->
<div class="subtitle">August 11, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Here’s the first step every user should start with after downloading
and installing git but <strong>BEFORE</strong> doing anything else: Set
up your <em>global</em> environment variables! If you don’t do this git
will abort your commit and give you an annoying message like this
one:</p>
<blockquote>
<p><code>$ git commit file.txt</code><br/>
<code>Author identity unknown</code><br/> <code></code><br/>
<code>*** Please tell me who you are.</code><br/> <code></code><br/>
<code>Run</code><br/> <code></code><br/>
<code>git config --global user.email "you@example.com"</code><br/>
<code>git config --global user.name "Your Name"</code><br/>
<code></code><br/>
<code>to set your account's default identity.</code><br/>
<code>Omit --global to set the identity only in this repository.</code><br/>
<code></code><br/>
<code>fatal: empty ident name (for &lt;user@localhost&gt;) not allowed</code><br/></p>
</blockquote>
<p>You only should have to do the <code>git config --global...</code>
commands one time. If you want to use a different user ID and email
address in each repository then don’t include the <code>--global</code>
parameter and it will only update your current repository leaving your
global setting alone. If you’re contributing to different repositories
using different email addresses or IDs then you definitely want to get
into this habit.</p>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="git-committing-to-a-different-branch12884.html">
Git: Committing to a Different Branch
</a></h3>
<!-- bashblog_timestamp: #202308101734.40# -->
<div class="subtitle">August 10, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Let’s imaging that you’ve made some changes to files in your work
directory and then realized that you aren’t in the correct branch. Now
you want to get the changes you’ve made to the right branch but no
change the current branch. What do you do?</p>
<p>There is no <em>git</em> command to do this but you can use the
<em>git stash</em> command to fix this.</p>
<p>This involves:</p>
<ol type="1">
<li>Using the <em>git stash</em> command to temporarily store our
changes elsewhere,</li>
<li>Checkout the correct branch, and</li>
<li>“Unstash” the changes to the correct branch.</li>
</ol>
<p>Let’s say that we’ve made some changes in our repository’s
new-release branch but they should have been made in the new-feature
branch.</p>
<blockquote>
<p><code>git stash</code><br/>
<code>git checkout new-feature</code><br/>
<code>git stash pop</code><br/></p>
</blockquote>
<p>We can now perform a commit, and update this branch.</p>
<blockquote>
<p><code>git commit -a -m "Updated functions in new-feature branch."</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>
<!-- text end -->
<h3><a class="ablack" href="git-deleting-multiple-commits24780.html">
Git: Deleting Multiple Commits
</a></h3>
<!-- bashblog_timestamp: #202306231254.32# -->
<div class="subtitle">June 23, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->
<p>Let’s say that you want to delete the last 3 commits that you’ve
already pushed to the remote repository. In this example, you want
<code>566dab6</code> to be the new HEAD revision.</p>
<blockquote>
<p><code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>57bc36b (HEAD -&gt; master, origin/master, origin/HEAD) 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>You can use <code>git reset</code>, <code>git revert</code>, or
<code>git checkout</code> to achieve this goal.</p>
<p><strong>Using reset:</strong></p>
<blockquote>
<p><code>$ git reset --hard HEAD~3</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>566dab6 (HEAD -&gt; master) Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>Then you have to force push to the origin:</p>
<blockquote>
<p><code>$ git push --force</code><br/></p>
</blockquote>
<p><strong>Using revert:</strong></p>
<blockquote>
<p><code>$ git revert --no-commit 57bc36b</code><br/>
<code>$ git revert --no-commit dfb4bd3</code><br/>
<code>$ git revert --no-commit 0fd1e16</code><br/></p>
</blockquote>
<p>or do all 3 at once:</p>
<blockquote>
<p><code>$ git revert --no-commit HEAD~3..</code><br/></p>
</blockquote>
<p>Then do the commit:</p>
<blockquote>
<p><code>$ git commit -m "Fixed commits"</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>0da0f42 (HEAD -&gt; master) Fixed commits</code><br/>
<code>57bc36b 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p><strong>Using checkout:</strong></p>
<p>Checkout that revision over the top of local files</p>
<blockquote>
<p><code>$ git checkout -f 566dab6 -- .</code><br/>
<code>$ git commit -a</code><br/> <br/>
<code>$ git log --pretty=oneline --abbrev-commit</code><br/>
<code>0da0f42 (HEAD -&gt; master) Fixed commits</code><br/>
<code>57bc36b 3nd set of bad entries on 6th commit</code><br/>
<code>dfb4bd3 2nd set of bad entries on 5th commit</code><br/>
<code>0fd1e16 First set of bad entries on 4th commit</code><br/>
<code>566dab6 Yet more good entries on third commit</code><br/>
<code>d50370a More good entries on second commit</code><br/>
<code>b5fbc6d Good entries on first commit</code><br/>
<code>2cad4c7 Initial commit</code><br/></p>
</blockquote>
<p>Tags: <a href='tag_cli.html'>cli</a>, <a href='tag_git.html'>git</a>, <a href='tag_source-control.html'>source-control</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
<h3><a class="ablack" href="gitea-server-installation-on-a-raspberry-pi26652.html">
Gitea Server Installation on a Raspberry Pi
</a></h3>
<!-- bashblog_timestamp: #202305251802.06# -->
<div class="subtitle">May 25, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>Create a 'git' user:</p>

<p><code>
$ sudo adduser git
</code></p>

<p>Login as the 'git' user and download the gitea binary from the gitea website (choose the latest version):</p>

<p><code>wget -O gitea https://dl.gitea.io/gitea/1.14.5/gitea-1.14.5-linux-amd64</code><br/>
<code>chmod +x gitea</code><br/></p>

<p>Create a service. We're keeping it simple here so we don't need a lot of the database-specific stuff:</p>

<p><code>[Unit]</code><br/>
<code>Description=Gitea (Git with a cup of tea)</code><br/>
<code>After=syslog.target</code><br/>
<code>After=network.target</code><br/>
<code></code><br/>
<code>[Service]</code><br/>
<code># Modify these two values and uncomment them if you have</code><br/>
<code># repos with lots of files and get an HTTP error 500 because</code><br/>
<code># of that</code><br/>
<code>#LimitMEMLOCK=infinity</code><br/>
<code>#LimitNOFILE=65535</code><br/>
<code>RestartSec=2s</code><br/>
<code>Type=simple</code><br/>
<code>User=git</code><br/>
<code>Group=git</code><br/>
<code>WorkingDirectory=/home/git/</code><br/>
<code># If using Unix socket: tells systemd to create the /run/gitea folder, which will contain the gitea.sock file</code><br/>
<code># (manually creating /run/gitea doesn't work, because it would not persist across reboots)</code><br/>
<code>#RuntimeDirectory=gitea</code><br/>
<code>ExecStart=/home/git/gitea web --config /home/git/custom/conf/app.ini</code><br/>
<code>Restart=always</code><br/>
<code>Environment=USER=git HOME=/home/git GITEA<em>WORK</em>DIR=/home/git</code><br/>
<code></code><br/>
<code>[Install]</code><br/>
<code>WantedBy=multi-user.target</code><br/></p>

<p>Enable and start Gitea at boot:</p>

<p><code>sudo systemctl enable gitea</code><br/>
<code>sudo systemctl start gitea</code><br/></p>

<p>Tags: <a href='tag_git.html'>git</a>, <a href='tag_gitea.html'>gitea</a>, <a href='tag_raspberry-pi.html'>raspberry-pi</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
<h3><a class="ablack" href="git-tips.html">
git Tips
</a></h3>
<!-- bashblog_timestamp: #202304151337.14# -->
<div class="subtitle">April 15, 2023 &mdash; 
Gregg Szumowski
</div>
<!-- text begin -->

<p>A useful tip to beautify your output is to use:
<code>
$ git log --graph --decorate --oneline --abbrev-commit --all --date=local
</code>
when looking at your log entries.
Or you can add
<code>
[alias]
</code>
<code>
   lola = log --graph --decorate --pretty=oneline --abbrev-commit --all --date=local
</code>
to your ~/.gitconfig file to use <code>$ git lola</code> as an alias.</p>

<p>Tags: <a href='tag_git.html'>git</a>, <a href='tag_motd.html'>motd</a></p>

<!-- text end -->
</div>
<div id="footer">CC by-nc-nd <a href="http://twitter.com/gszumo">Gregg Szumowski</a> &mdash; <a href="mailto:gszumo[at]gmail[dot]com">gszumo[at]gmail[dot]com</a> &mdash; <a rel="me" href="https://mastodon.sdf.org/@gszumo">Mastodon</a><br/>
NOTE: All tips provided are USE AT YOUR OWN RISK. It is suggested that you read and test each tip in a non-volitile environment before placing into production.<br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
